{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/css/ChatWindow.css","webpack:///./src/css/ExpandedPost.css","webpack:///./src/css/Info.css","webpack:///./src/css/LikeInfo.css","webpack:///./src/css/NavBar.css","webpack:///./src/css/NewsFeed.css","webpack:///./src/css/OptionsIcon.css","webpack:///./src/css/PostComment.css","webpack:///./src/css/PostForm.css","webpack:///./src/css/Toast.css","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/css/ChatWindow.css?1988","webpack:///./src/css/ExpandedPost.css?56d6","webpack:///./src/css/Info.css?5886","webpack:///./src/css/LikeInfo.css?90ad","webpack:///./src/css/NavBar.css?0171","webpack:///./src/css/NewsFeed.css?7954","webpack:///./src/css/OptionsIcon.css?ef37","webpack:///./src/css/PostComment.css?1357","webpack:///./src/css/PostForm.css?f6f6","webpack:///./src/css/Toast.css?0a0d","webpack:///./src/secured/App.jsx","webpack:///./src/secured/ChatTab.jsx","webpack:///./src/secured/ChatWindow.jsx","webpack:///./src/secured/ExpandedPost.jsx","webpack:///./src/secured/Info.jsx","webpack:///./src/secured/LikeInfo.jsx","webpack:///./src/secured/NavBar.jsx","webpack:///./src/secured/NewsFeed.jsx","webpack:///./src/secured/OptionsIcon.jsx","webpack:///./src/secured/Page.jsx","webpack:///./src/secured/PostComment.jsx","webpack:///./src/secured/PostForm.jsx","webpack:///./src/secured/Search.jsx","webpack:///./src/secured/Toast.jsx","webpack:///./src/secured/actions.js","webpack:///./src/secured/containers/ChatTabContainer.jsx","webpack:///./src/secured/containers/ChatWindowContainer.jsx","webpack:///./src/secured/containers/CommentOptionsIconContainer.jsx","webpack:///./src/secured/containers/ExpandedPostContainer.jsx","webpack:///./src/secured/containers/InfoContainer.jsx","webpack:///./src/secured/containers/NavBarContainer.jsx","webpack:///./src/secured/containers/NewsFeedContainer.jsx","webpack:///./src/secured/containers/PageContainer.jsx","webpack:///./src/secured/containers/PostFormContainer.jsx","webpack:///./src/secured/containers/PostOptionsIconContainer.jsx","webpack:///./src/secured/containers/SubcommentOptionsIconContainer.jsx","webpack:///./src/secured/containers/ToastContainer.jsx","webpack:///./src/secured/graphQlFetch.js","webpack:///./src/secured/reducers.js","webpack:///ws (ignored)"],"names":["store","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","element","ReactDOM","render","document","getElementById","ChatTab","members","props","map","member","i","onMessageClick","avatarHash","name","React","Component","propTypes","PropTypes","func","arrayOf","object","ChatWindow","query","graphQlFetch","user1Id","userId","user2Id","_id","data","getConvoId","convoId","e","keyCode","shiftKey","state","text","trim","preventDefault","message","timestamp","Date","now","sender","msg","socket","emit","soloRoom","sharedRoom","setState","target","value","textArea","createRef","loading","messages","autosize","current","fetchConvoId","socketIOClient","on","concat","prevProps","spinner","time","displayImage","displayTime","parseInt","timeDivider","toDateString","style","length","onTextChange","onEnterPress","string","dateRegex","RegExp","jsonDateReviver","key","test","ExpandedPost","groupId","postId","match","params","id","index","lastCommentIndex","singlePost_comments","comments","window","ENV","CMT_LIMIT","viewMore","subcomments","SUBCMT_LIMIT","subcommentIndex","commentId","singlePost_subcomments","comment","find","push","singlePost_post","post","numComments","numLikes","userLiked","showCommentInput","flip","createComment","eventSource","close","EventSource","UI_API_SSE_ENDPOINT","addEventListener","JSON","parse","subcomment","filter","subcommentId","likes","like","fetchSinglePost","fetchComments","iconClass","iconAction","likeDot","commentDot","Object","keys","unlikePost","likePost","createSubcomment","likeComment","unlikeComment","likeSubcomment","unlikeSubcomment","fetchSubcomments","handleCreateComment","hideCommentInput","Info","urls","showModal","about","dots","more","hidden","less","display","innerHTML","truncatedMembers","slice","images","url","options","replace","attribs","children","toggleText","marginBottom","handleClose","LikeInfo","isFetching","users","getLikes","navbar","getElementsByClassName","paddingRight","paddingLeft","getPostLikes","likedBy","user","hideModal","onModalMounting","number","NavBar","apiEndpoint","UI_API_AUTH_ENDPOINT","fetch","method","credentials","location","href","UI_SERVER_ORIGIN","console","log","updateActiveGroupId","fetchGroupPosts","matches","chatDropdown","dropdown","removeChild","transparentScreenChat","showChatWindow","createElement","className","onScreenClick","appendChild","alert","items","groups","group","getPosts","onToggleChats","createPortal","signOut","NewsFeed","updateSinglePost","deleteSinglePost","fetchPostStats","postIndex","URLSearchParams","search","get","onGroupChange","oldParams","newParams","error","span","offset","ExpandedPostContainer","postComments","posts","showPost","handleLikePost","handleUnlikePost","bool","OptionsIcon","transparentScreen","stopPropagation","delete","remove","label","type","authorId","onDelete","onCaratClick","tempClickHandler","Page","clearToastMessage","__INITIAL_DATA__","email","updateUserInfo","fetchUserInfo","activeGroupId","history","NewsFeedContainer","toastMsg","withRouter","moment","require","CommentInput","create","update","hide","scrollIntoView","behavior","block","focus","preventScroll","visible","onBlur","Comment","author","icon","numLikesSpan","includes","unlike","openCommentInput","cmtDateFormatter","CommentGroup","handleCreateSubcomment","unit","suffix","epochSeconds","nextFormatter","toLowerCase","postDateFormatter","format","Post","PostComment","PostForm","disabled","createPost","openModal","onModalMount","width","handleSubmit","Search","loadOptions","bind","term","events","event","title","description","customStyles","option","styles","cursor","control","DropdownIndicator","Toast","class","timer","setTimeout","clearTimeout","timer1","toastTime","FETCH_POSTS_REQUEST","fetchPostsRequest","FETCH_POSTS_SUCCESS","fetchPostsSuccess","FETCH_GROUP_MEMBERS_SUCCESS","fetchGroupMembersSuccess","FETCH_POSTS_ERROR","fetchPostsError","UPDATE_SINGLE_POST","DELETE_SINGLE_POST","FETCH_POST_STATS_SUCCESS","fetchPostStatsSuccess","UPDATE_USER_INFO","FETCH_USER_INFO_REQUEST","fetchUserInfoRequest","FETCH_USER_INFO_SUCCESS","fetchUserInfoSuccess","UPDATE_ACTIVE_GROUP_ID","SET_TOAST_MESSAGE","setToastMessage","CLEAR_TOAST_MESSAGE","dispatch","groupPosts","groupMembers","userInfo","mutation","deletePost","deleteComment","deleteSubcomment","singlePostStats","mapStateToProps","ChatTabContainer","connect","ChatWindowContainer","mapDispatchToProps","CommentOptionsIconContainer","InfoContainer","NavBarContainer","PageContainer","PostFormContainer","PostOptionsIconContainer","SubcommentOptionsIconContainer","ToastContainer","variables","UI_API_GRAPHQL_ENDPOINT","headers","body","stringify","response","result","errors","extensions","code","initialPostsState","initialUserState","userReducer","action","assign","postsReducer","POST_LIMIT","updatedPosts","combineReducers"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6E;;;;;;;;;;;ACnRA,UAAU,mBAAO,CAAC,sJAA2E;AAC7F,0BAA0B,mBAAO,CAAC,mIAA8D;;AAEhG;;AAEA;AACA,0BAA0B,QAAS;AACnC;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;;;AAIA,0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","file":"securedApp.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"securedApp\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".chat-window {\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\\n  padding: 1em;\\n  background-color: white;\\n}\\n\\n#contents {\\n  /*top level div*/\\n  overflow: hidden;\\n}\\n\\nbody {\\n  background-color: #fafeff;\\n}\\n\\n.container-fluid {\\n  margin-top: 5.2em;\\n}\\n\\n.chat-window {\\n  padding: 0em;\\n  position: fixed;\\n  display: flex;\\n  flex-direction: column;\\n  right: 7em;\\n  top: 20em;\\n  z-index: 2;\\n  height: 26em;\\n}\\n\\n.chat-input {\\n  margin: 0;\\n  border: none;\\n  max-height: 4em;\\n}\\n\\n.chat-input:focus {\\n  outline: none;\\n}\\n\\n.chat-header {\\n  font-weight: 600;\\n  margin: 0.5em;\\n}\\n\\n.chat-header > img {\\n  height: 70%;\\n}\\n\\n.chat-window > hr {\\n  margin: 0;\\n}\\n\\n.chat-body {\\n  overflow-y: scroll;\\n  width: 17em;\\n  height: 20em;\\n}\\n\\n.chat-footer {\\n  padding: 0.5em;\\n}\\n\\n.clearfix::after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table;\\n}\\n\\n.msg-wrapper {\\n  display: flex;\\n  margin-top: 0.5em;\\n  margin-bottom: 0.5em;\\n}\\n\\n.msg-wrapper.self {\\n  flex-direction: row-reverse;\\n}\\n\\n.msg-pic-wrapper {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-end;\\n}\\n\\n.msg-pic-wrapper.self {\\n  display: none;\\n}\\n\\n.msg-pic-wrapper.other {\\n  margin-right: 0.2em;\\n}\\n\\n.msg-pic.visible {\\n  border-radius: 50%;\\n}\\n\\n.msg-pic.hidden {\\n  visibility: hidden;\\n}\\n\\n.msg {\\n  align-self: flex-start;\\n  max-width: 60%;\\n  word-wrap: break-word;\\n  padding: 0.3em 0.7em;\\n  border-radius: 10px;\\n}\\n\\n.msg.self {\\n  background-color: #007bff;\\n  color: white;\\n  margin-right: 0.2em;\\n}\\n\\n.msg.other {\\n  background-color: lightgrey;\\n}\\n\\n.time-divider {\\n  text-align: center;\\n  font-size: 0.9rem;\\n  color: lightgrey;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".expanded-post {\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\\n  padding: 1em;\\n  background-color: white;\\n}\\n\\n#contents {\\n  /*top level div*/\\n  overflow: hidden;\\n}\\n\\nbody {\\n  background-color: #fafeff;\\n}\\n\\n.container-fluid {\\n  margin-top: 5.2em;\\n}\\n\\n.commentIcon {\\n  text-align: center;\\n  color: #9a9898;\\n  font-size: 0.9em;\\n  font-weight: 600;\\n  margin-left: 0.7em;\\n  border-radius: 7px;\\n}\\n\\n.commentIcon:hover {\\n  cursor: pointer;\\n  background-color: #d6f8ff;\\n  color: #00aacc;\\n}\\n\\n.likeIcon {\\n  text-align: center;\\n  color: #9a9898;\\n  font-size: 0.9em;\\n  font-weight: 600;\\n  border-radius: 7px;\\n  margin-left: 1.5em;\\n}\\n\\n.cmt.likeIcon {\\n  margin-left: 0;\\n}\\n\\n.liked {\\n  color: #00aacc;\\n}\\n\\n.not-liked {\\n  color: #9a9898;\\n}\\n\\n.likeIcon:hover {\\n  cursor: pointer;\\n  background-color: #d6f8ff;\\n  color: #00aacc;\\n}\\n\\nhr {\\n  margin-top: 0.5rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.expanded-post {\\n  margin-bottom: 1.5em;\\n}\\n\\n.expanded-post-header {\\n  margin-left: -1em;\\n  margin-right: -1em;\\n  margin-top: -1em;\\n  background-color: #e6e5e5;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  padding: 0.2em 0.7em;\\n  margin-bottom: 0.8em;\\n}\\n\\n.expanded-post-x {\\n  float: right;\\n  color: #676565;\\n}\\n\\n.expanded-post-x:hover {\\n  cursor: pointer;\\n}\\n\\n.cmt-form-modal-header {\\n  padding: 0.2em;\\n}\\n\\n.commentIcon, .num-comments, .likeIcon, .num-likes {\\n  z-index: 2;\\n}\\n\\n.cmt-time {\\n  margin-left: 0.7em;\\n  margin-right: 0.6em;\\n  color: #9a9898;\\n  font-size: 0.9em;\\n}\\n\\n.view-more {\\n  margin-top: 0.8em;\\n  color: #817e7e;\\n  font-weight: 600;\\n}\\n\\n.view-more.reply {\\n  margin-left: 2.8em;\\n}\\n\\n.view-more:hover {\\n  text-decoration: underline;\\n  cursor: pointer;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".info-box {\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\\n  padding: 1em;\\n  background-color: white;\\n}\\n\\n#contents {\\n  /*top level div*/\\n  overflow: hidden;\\n}\\n\\nbody {\\n  background-color: #fafeff;\\n}\\n\\n.container-fluid {\\n  margin-top: 5.2em;\\n}\\n\\n.clearfix::after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table;\\n}\\n\\n.info-container {\\n  padding-right: 6em;\\n}\\n\\n.info-header {\\n  margin-bottom: 0.5em;\\n}\\n\\n.info-box .one {\\n  float: left;\\n  font-weight: 600;\\n}\\n\\n.info-box .two {\\n  float: right;\\n  font-weight: 600;\\n}\\n\\n.info-pics {\\n  border-radius: 50%;\\n  height: 2em;\\n}\\n\\n.info-box .btn {\\n  float: right;\\n}\\n\\n.about {\\n  font-weight: 600;\\n}\\n\\n#hidden, #less {\\n  display: none;\\n}\\n\\n#more, #less {\\n  font-weight: 600;\\n}\\n\\n#more:hover, #less:hover {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".likeinfo-box {\\n  display: flex;\\n}\\n\\n.likeinfo-profile-pic {\\n  align-self: flex-start;\\n  height: 2.4em;\\n  border-radius: 50%;\\n}\\n\\n.likeinfo-name {\\n  align-self: flex-start;\\n  padding: 0.4em;\\n  font-weight: 600;\\n}\\n\\n.likeinfo-divider {\\n  margin-left: -1rem;\\n  margin-right: -1rem;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".chat-tab {\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\\n  padding: 1em;\\n  background-color: white;\\n}\\n\\n#contents {\\n  /*top level div*/\\n  overflow: hidden;\\n}\\n\\nbody {\\n  background-color: #fafeff;\\n}\\n\\n.container-fluid {\\n  margin-top: 5.2em;\\n}\\n\\n.loop_link, .loop_link:hover {\\n  text-decoration: inherit;\\n  color: inherit;\\n}\\n\\n.chat-toggle {\\n  color: white;\\n}\\n\\n.chat-toggle:hover {\\n  cursor: pointer;\\n}\\n\\n#chat-tab-span {\\n  display: none;\\n  position: absolute;\\n  right: 13em;\\n  top: 4em;\\n}\\n\\n/* <ChatTab /> */\\n.chat-tab {\\n  width: 20em;\\n}\\n\\n.chat-tab-header {\\n  font-weight: 700;\\n  font-size: 1.3rem;\\n  margin-bottom: 1em;\\n}\\n\\n.transparent-screen-chat {\\n  position: fixed;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: transparent;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".top-container {\\n  width: 1700px;\\n  margin: 0 auto;\\n  overflow: hidden;\\n}\\n\\n@media all and (max-width: 1700px) {\\n  .top-container {\\n    transform: translateX(-850px);\\n    margin-left: 50%;\\n  }\\n}\\n.modal.fade.show {\\n  padding-left: 0px !important;\\n}\\n\\n.post-expand-modal-header {\\n  font-weight: 700;\\n}\\n\\n.view-more-newsfeed {\\n  color: #817e7e;\\n  font-weight: 600;\\n  text-align: center;\\n  margin-bottom: 2em;\\n}\\n\\n.view-more-newsfeed:hover {\\n  text-decoration: underline;\\n  cursor: pointer;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#dropdown-carat {\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\\n  padding: 1em;\\n  background-color: white;\\n}\\n\\n#contents {\\n  /*top level div*/\\n  overflow: hidden;\\n}\\n\\nbody {\\n  background-color: #fafeff;\\n}\\n\\n.container-fluid {\\n  margin-top: 5.2em;\\n}\\n\\n.carat-icon {\\n  color: #9a9898;\\n  z-index: 30;\\n}\\n\\n.carat-icon:hover {\\n  cursor: pointer;\\n}\\n\\n.dropdown-post {\\n  position: absolute;\\n  right: 1.5em;\\n}\\n\\n.dropdown-comment {\\n  position: absolute;\\n  right: 17.4em;\\n}\\n\\n.dropdown-reply {\\n  position: absolute;\\n  right: 13.7em;\\n}\\n\\n#dropdown-carat {\\n  display: none;\\n  padding: 0;\\n  z-index: 3;\\n  color: #676565;\\n}\\n\\n#dropdown-carat:first-child {\\n  margin-bottom: 0.4em;\\n}\\n\\n#dropdown-carat div:hover {\\n  background-color: #f2f2f2;\\n  cursor: pointer;\\n}\\n#dropdown-carat div {\\n  padding: 0.4em 0.9em;\\n}\\n\\n.transparent-screen {\\n  position: fixed;\\n  z-index: 2;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: transparent;\\n  cursor: auto;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".post {\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\\n  padding: 1em;\\n  background-color: white;\\n}\\n\\n#contents {\\n  /*top level div*/\\n  overflow: hidden;\\n}\\n\\nbody {\\n  background-color: #fafeff;\\n}\\n\\n.container-fluid {\\n  margin-top: 5.2em;\\n}\\n\\n.profile-pic {\\n  height: 45%;\\n  border-radius: 50%;\\n}\\n\\n.user-info {\\n  padding: 0.4em;\\n}\\n\\n.user-name {\\n  color: blue;\\n  font-weight: 700;\\n}\\n\\n.date {\\n  font-size: 0.9em;\\n  color: grey;\\n}\\n\\n.post {\\n  margin-top: 2em;\\n  margin-bottom: 2em;\\n}\\n\\n.post:hover {\\n  cursor: pointer;\\n}\\n\\n.cmt-container {\\n  display: flex;\\n  margin-top: 0.8em;\\n}\\n\\n.cmt-pic {\\n  align-self: flex-start;\\n}\\n\\n.cmt-profile-pic {\\n  height: 2.4em;\\n  border-radius: 50%;\\n}\\n\\n.cmt-name {\\n  color: blue;\\n  font-weight: 700;\\n}\\n\\n.cmt-text, .cmt-text-input {\\n  align-self: flex-start;\\n  margin-left: 0.4em;\\n  background-color: whitesmoke;\\n  border-radius: 0.6em;\\n  padding: 0.5em;\\n  display: inline-block;\\n}\\n\\n.cmt-text-input {\\n  display: flex;\\n}\\n\\n.cmt-text-input-wrapper {\\n  width: 100%;\\n}\\n\\n.cmt-textarea {\\n  background-color: whitesmoke;\\n  margin-top: 0em;\\n  margin-left: 0.4em;\\n  border-radius: 0.6em;\\n  padding: 0.5em;\\n}\\n\\n/* Changing placeholder color shit */\\n.cmt-textarea::-webkit-input-placeholder {\\n  color: #817e7e;\\n}\\n\\n.cmt-textarea:focus::-webkit-input-placeholder {\\n  color: #cdcbcb;\\n}\\n\\n/* Firefox < 19 */\\n.cmt-textarea:-moz-placeholder {\\n  color: #817e7e;\\n}\\n\\n.cmt-textarea:focus:-moz-placeholder {\\n  color: #cdcbcb;\\n}\\n\\n/* Firefox > 19 */\\n.cmt-textarea::-moz-placeholder {\\n  color: #817e7e;\\n}\\n\\n.cmt-textarea:focus::-moz-placeholder {\\n  color: #cdcbcb;\\n}\\n\\n/* Internet Explorer 10 */\\n.cmt-textarea:-ms-input-placeholder {\\n  color: #817e7e;\\n}\\n\\n.cmt-textarea:focus:-ms-input-placeholder {\\n  color: #cdcbcb;\\n}\\n\\n.cmt-options {\\n  margin-left: 0.8em;\\n}\\n\\n.subcomments-container {\\n  padding-left: 2.8em;\\n}\\n\\n.post-form-txt {\\n  align-self: flex-start;\\n  padding: 0.4em 0em;\\n  margin-left: 0.3em;\\n  font-weight: 600;\\n}\\n\\n/*icon styles*/\\n.num-comments, .num-likes {\\n  color: #9a9898;\\n  font-size: 0.9em;\\n  font-weight: 600;\\n}\\n\\n.num-likes {\\n  font-size: 0.9em;\\n}\\n\\n.num-likes:hover {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n\\n.mid-dot {\\n  color: #9a9898;\\n  font-size: 1em;\\n  font-weight: 600;\\n  margin-right: 0.2em;\\n  margin-left: 0.2em;\\n}\\n\\ntable {\\n  display: inline-block;\\n}\\n\\n.post-options-icon {\\n  float: right;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".post-form-container {\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 2px 0 rgba(0, 0, 0, 0.1);\\n  padding: 1em;\\n  background-color: white;\\n}\\n\\n#contents {\\n  /*top level div*/\\n  overflow: hidden;\\n}\\n\\nbody {\\n  background-color: #fafeff;\\n}\\n\\n.container-fluid {\\n  margin-top: 5.2em;\\n}\\n\\n.post-form-header {\\n  display: flex;\\n}\\n\\n.pic-flex {\\n  align-self: flex-start;\\n}\\n\\n.pic-flex img {\\n  height: 2.4em;\\n  border-radius: 50%;\\n}\\n\\n.post-form-container {\\n  display: flex;\\n  margin-bottom: 2em;\\n}\\n\\n.text-flex {\\n  margin-left: 0.4em;\\n  background-color: whitesmoke;\\n  border-radius: 6px;\\n  padding: 0.5em;\\n  width: 100%;\\n  font-weight: 700;\\n  color: #9a9898;\\n}\\n\\n.text-flex:hover {\\n  cursor: pointer;\\n}\\n\\ntextarea {\\n  border: none;\\n  outline: none;\\n  width: 100%;\\n  resize: none;\\n  box-sizing: border-box;\\n  max-height: 20em;\\n  margin-top: 0.6em;\\n}\\n\\n.post-form-modal-header {\\n  text-align: center;\\n  font-weight: 700;\\n  font-size: 1.3em;\\n  display: inline;\\n}\\n\\n.modal-open[style] {\\n  padding-right: 0px !important;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".toastMsg {\\n  position: fixed;\\n  bottom: 75px;\\n  left: 90px;\\n  border: none;\\n  border-radius: 10px;\\n  font-weight: 600;\\n  padding: 0.5em 1.5em;\\n  text-align: center;\\n  background-color: #007bff;\\n  color: white;\\n  opacity: 0.2;\\n}\\n\\n.toastFade {\\n  animation-name: fadeInOpacity;\\n  animation-iteration-count: 1;\\n  animation-timing-function: ease-in;\\n  animation-duration: 4s;\\n}\\n\\n@keyframes fadeInOpacity {\\n  0% {\\n    opacity: 1;\\n  }\\n  70% {\\n    opacity: 1;\\n  }\\n  100% {\\n    opacity: 0.5;\\n  }\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./ChatWindow.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./ExpandedPost.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./Info.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./LikeInfo.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./NavBar.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./NewsFeed.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./OptionsIcon.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./PostComment.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./PostForm.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./Toast.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import 'babel-polyfill';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport PageContainer from './containers/PageContainer.jsx';\r\nimport reducer from './reducers.js';\r\n\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nconst element = (\r\n\t<Provider store={store}>\r\n\t\t<Router>\r\n\t\t\t<PageContainer />\r\n\t\t</Router>\r\n\t</Provider>\r\n);\r\n\r\nReactDOM.render(element, document.getElementById('contents'));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\n\r\nexport default class ChatTab extends React.Component {\r\n\trender() {\r\n\t\tconst members = this.props.members.map((member, i) => (\r\n\t\t\t<div key={i} onClick={() => this.props.onMessageClick(member)}>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td> \r\n\t\t\t\t\t\t\t<img className=\"profile-pic\" src={`https://www.gravatar.com/avatar/${member.avatarHash}?d=identicon&s=128`} />\t\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td className='user-info'>\r\n\t\t\t\t\t\t\t<div className=\"user-name\">{member.name}</div>\r\n\t\t\t\t\t\t\t<div className=\"date\">Sample message</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t));\r\n\r\n\t\treturn (\t\t\t\r\n\t\t\t<div className=\"chat-tab\">\r\n\t\t\t\t<div className=\"chat-tab-header\">Message</div>\r\n\t\t\t\t{members}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nChatTab.propTypes = {\r\n\tonMessageClick: PropTypes.func,\r\n\tmembers: PropTypes.arrayOf(PropTypes.object)\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport socketIOClient from 'socket.io-client';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport autosize from 'autosize';\r\n\r\nimport graphQlFetch from './graphQlFetch.js';\r\nimport '../css/ChatWindow.css';\r\n\r\nexport default class ChatWindow extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.textArea = React.createRef();\r\n\t\tthis.state = {\r\n\t\t\tloading: true,\r\n\t\t\ttext: '',\r\n\t\t\tmessages: []\r\n\t\t};\r\n\t}\r\n\r\n\tstatic convoId;\r\n\r\n\tfetchConvoId = async () => {\r\n\t\tconst query = `query getConvoId($user1Id: ID!, $user2Id: ID!) {\r\n\t\t\tgetConvoId(user1Id: $user1Id, user2Id: $user2Id) {\r\n\t\t\t\t_id\r\n\t\t\t}\r\n\t\t}`;\r\n\t\tconst data = await graphQlFetch(query, { user1Id: this.props.userId, user2Id: this.props.member._id });\r\n\t\tif (data && data.getConvoId) {\r\n\t\t\tthis.convoId = data.getConvoId._id;\r\n\t\t}//else: throw some error\r\n\t}\r\n\t\r\n\tasync componentDidMount() {\r\n\t\tautosize(this.textArea.current);\r\n\r\n\t\tawait this.fetchConvoId();\t\t\r\n\r\n\t\tthis.socket = socketIOClient(\"localhost:3000\");\r\n\r\n\t\tthis.socket.emit('join_shared_room', this.convoId);\r\n\r\n\t\tthis.socket.on('message_history', (messages) => {\r\n\t\t\tthis.setState({ messages, loading: false });\r\n\t\t});\r\n\r\n\t\tthis.socket.on('message', (message) => {\r\n\t\t\tconst messages = this.state.messages.concat(message);\r\n\t\t\tthis.setState({ messages });\r\n\t\t});\r\n\t}\r\n\r\n\tasync componentDidUpdate(prevProps) {\r\n\t\tif (prevProps.member._id !== this.props.member._id) { //switched chat windows to a different user\r\n\t\t\tthis.setState({ loading: true });\r\n\t\t\tawait this.fetchConvoId();\r\n\t\t\tthis.socket.emit('join_shared_room', this.convoId);\r\n\t\t}\r\n\t}\r\n\r\n\tonEnterPress = (e) => {\r\n\t\tif(e.keyCode == 13 && e.shiftKey == false && this.state.text.trim()) {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst message = { convoId: this.convoId, timestamp: Date.now(), sender: this.props.userId, msg: this.state.text }; \r\n\t\t\tthis.socket.emit('message', { soloRoom: this.props.member._id, sharedRoom: this.convoId, message });\r\n\t\t\tthis.setState({ text: '' });\r\n\t\t}\r\n\t}\r\n\r\n\tonTextChange = (e) => {\r\n\t\tthis.setState({ text: e.target.value });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst spinner = <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\r\n\t\tlet time;\r\n\t\tconst messages = this.state.messages.map((message, i) => {\r\n\t\t\tlet displayImage, displayTime;\r\n\t\t\tif (i === 0 || ((parseInt(message.timestamp) - parseInt(time)) / 1000) > 43200) {\r\n\t\t\t\ttime = message.timestamp;\r\n\t\t\t\tdisplayTime = true;\r\n\t\t\t} else {\r\n\t\t\t\tdisplayTime = false;\r\n\t\t\t}\r\n\t\t\tconst timeDivider = displayTime ? <div className=\"time-divider\">{(new Date(time)).toDateString()}</div> : null;\r\n\t\t\tconst style = message.sender === this.props.userId ? \"self\" : \"other\";\r\n\t\t\tif (style === \"other\") {\r\n\t\t\t\tif (i === this.state.messages.length - 1 || this.state.messages[i+1].sender === this.props.userId) {\r\n\t\t\t\t\tdisplayImage = \"visible\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdisplayImage = \"hidden\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdisplayImage = \"hidden\";\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment key={i}>\r\n\t\t\t\t\t{timeDivider}\r\n\t\t\t\t\t<div className={`msg-wrapper clearfix ${style}`}>\r\n\t\t\t\t\t\t<div className={`msg-pic-wrapper ${style}`}>\r\n\t\t\t\t\t\t\t<img className={`msg-pic ${displayImage}`} src={`https://www.gravatar.com/avatar/${this.props.member.avatarHash}?d=identicon&s=32`} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={`msg ${style}`}>{message.msg}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn (\t\t\t\r\n\t\t\t<div className=\"chat-window\">\r\n\t\t\t\t<div className=\"chat-header\">\r\n\t\t\t\t\t<img className=\"profile-pic\" src={`https://www.gravatar.com/avatar/${this.props.member.avatarHash}?d=identicon&s=32`} />\r\n\t\t\t\t\t&nbsp;{this.props.member.name}\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"chat-body\">{!this.state.loading ? messages : spinner}</div>\r\n\t\t\t\t<div className=\"chat-footer\"> \r\n\t\t\t\t\t<textarea \r\n\t\t\t\t\t\tref={this.textArea} className=\"chat-input\" placeholder=\"Send a message\" onChange={this.onTextChange} \r\n\t\t\t\t\t\tonKeyDown={this.onEnterPress} value={this.state.text} rows={1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nChatWindow.propTypes = {\r\n\tname: PropTypes.string,\r\n\tuserId: PropTypes.string,\r\n\tavatarHash: PropTypes.string,\r\n\r\n\tmember: PropTypes.object, //{ _id, name, avatarhash }\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nimport { Post, CommentInput, CommentGroup } from './PostComment.jsx';\r\nimport LikeInfo from './LikeInfo.jsx';\r\nimport graphQlFetch from './graphQlFetch.js';\r\nimport '../css/ExpandedPost.css';\r\n\r\nconst dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\r\n\r\nfunction jsonDateReviver(key, value) {\r\n\tif (dateRegex.test(value)) return new Date(value);\r\n\treturn value;\r\n}\r\n\r\nexport default class ExpandedPost extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.textArea = React.createRef();\r\n\t\tthis.state = {\r\n\t\t\tshowCommentInput: false,\r\n\t\t\tflip: false,\r\n\t\t\tpost: {},\r\n\t\t\tnumComments: 0,\r\n\t\t\tcomments: [],\r\n\t\t\tlastCommentIndex: null,\r\n\t\t\tviewMore: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.eventSource.close();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.eventSource = new EventSource(`${window.ENV.UI_API_SSE_ENDPOINT}/expandedPost\r\n\t\t\t?groupId=${this.props.groupId}&postId=${this.props.match.params.id}`);\r\n\r\n\t\tthis.eventSource.addEventListener('create_comment_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data, jsonDateReviver);\r\n\t\t\tif (!this.state.viewMore) {\r\n\t\t\t\tthis.setState((state) => ({ \r\n\t\t\t\t\tcomments: state.comments.concat(data.comment),\r\n\t\t\t\t\tnumComments: state.numComments + 1,  \r\n\t\t\t\t}));\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState((state) => ({ numComments: state.numComments + 1 }));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('create_subcomment_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data, jsonDateReviver);\r\n\t\t\tconst comments = [...this.state.comments]; \r\n\t\t\tconst comment = comments.find((comment) => comment._id === data.commentId);\r\n\t\t\tif (comment && !comment.viewMore) {\r\n\t\t\t\tcomment.subcomments.push(data.subcomment);\r\n\t\t\t\tthis.setState((state) => ({\r\n\t\t\t\t\tcomments,\r\n\t\t\t\t\tnumComments: state.numComments + 1\r\n\t\t\t\t}));\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState((state) => ({ numComments: state.numComments + 1 }));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('delete_comment_mutation', (e) => {\r\n\t\t\tconst commentId = JSON.parse(e.data).commentId;\r\n\t\t\tconst length = this.state.comments.length;\r\n\t\t\tconst comments = this.state.comments.filter((comment) => comment._id !== commentId);\r\n\t\t\tif (comments.length < length) {\r\n\t\t\t\tthis.setState((state) => ({ comments, numComments: state.numComments - 1 }));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('delete_subcomment_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tconst comments = [...this.state.comments];\r\n\t\t\tconst comment = comments.find((comment) => comment._id === data.commentId);\r\n\t\t\tif (comment) {\r\n\t\t\t\tconst subcomments = comment.subcomments.filter((subcomment) => subcomment._id !== data.subcommentId);\r\n\t\t\t\tif (subcomments.length < comment.subcomments.length) {\r\n\t\t\t\t\tcomment.subcomments = subcomments;\r\n\t\t\t\t\tthis.setState((state) => ({ comments, numComments: state.numComments - 1 }));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('like_comment_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tconst comments = [...this.state.comments]; \r\n\t\t\tconst comment = comments.find((comment) => comment._id === data.commentId);\r\n\t\t\tif (comment) {\r\n\t\t\t\tcomment.likes.push(data.userId);\r\n\t\t\t\tthis.setState({ comments });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('unlike_comment_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tconst comments = [...this.state.comments]; \r\n\t\t\tconst comment = comments.find((comment) => comment._id === data.commentId);\r\n\t\t\tif (comment) {\r\n\t\t\t\tcomment.likes = comment.likes.filter((like) => like !== data.userId);\r\n\t\t\t\tthis.setState({ comments });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('like_subcomment_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tconst comments = [...this.state.comments]; \r\n\t\t\tconst comment = comments.find((comment) => comment._id === data.commentId);\r\n\t\t\tif (comment) {\r\n\t\t\t\tconst subcomment = comment.subcomments.find((subcomment) => subcomment._id === data.subcommentId);\r\n\t\t\t\tif (subcomment) {\r\n\t\t\t\t\tsubcomment.likes.push(data.userId);\r\n\t\t\t\t\tthis.setState({ comments });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('unlike_subcomment_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tconst comments = [...this.state.comments]; \r\n\t\t\tconst comment = comments.find((comment) => comment._id === data.commentId);\r\n\t\t\tif (comment) {\r\n\t\t\t\tconst subcomment = comment.subcomments.find((subcomment) => subcomment._id === data.subcommentId);\r\n\t\t\t\tif (subcomment) {\r\n\t\t\t\t\tsubcomment.likes = subcomment.likes.filter((like) => like !== data.userId);\r\n\t\t\t\t\tthis.setState({ comments });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('like_post_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tif (this.props.userId === data.userId) {\r\n\t\t\t\tthis.setState((state) => ({ numLikes: state.numLikes + 1, userLiked: true }));\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState((state) => ({ numLikes: state.numLikes + 1, userLiked: false }));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('unlike_post_mutation', (e) => {\r\n\t\t\tconst data = JSON.parse(e.data);\r\n\t\t\tif (this.props.userId === data.userId) {\r\n\t\t\t\tthis.setState((state) => ({ numLikes: state.numLikes - 1, userLiked: false }));\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState((state) => ({ numLikes: state.numLikes - 1 }));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.fetchSinglePost();\r\n\t\tthis.fetchComments();\r\n\t}\r\n\r\n\tfetchComments = async () => {\r\n\t\tconst query = `query singlePost_comments($groupId: ID!, $postId: ID!, $index: Int) {\r\n\t\t\tsinglePost_comments(groupId: $groupId, postId: $postId, index: $index) {\r\n\t\t\t\t_id text timestamp likes index \r\n        \t\tauthor {\r\n        \t\t\t_id name avatarHash\r\n        \t\t}\r\n        \t\tsubcomments {\r\n    \t\t\t\t_id text timestamp likes index\r\n    \t\t\t\tauthor {\r\n    \t\t\t\t\t_id name avatarHash\r\n    \t\t\t\t}\r\n        \t\t} \r\n\t\t\t}\r\n\t\t}`;\r\n\t\tconst data = await graphQlFetch(query, { \r\n\t\t\tgroupId: this.props.groupId, postId: this.props.match.params.id, index: this.state.lastCommentIndex\r\n\t\t});\r\n\t\tif (data && data.singlePost_comments) {\r\n\t\t\tconst comments = data.singlePost_comments;\r\n\t\t\tif (comments.length === parseInt(window.ENV.CMT_LIMIT)) {\r\n\t\t\t\tthis.setState({ \r\n\t\t\t\t\tlastCommentIndex: comments[comments.length-1].index, \r\n\t\t\t\t\tviewMore: true \r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({ viewMore: false });\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < comments.length; i++) {\r\n\t\t\t\tlet length = comments[i].subcomments.length;\r\n\t\t\t\tif (length === parseInt(window.ENV.SUBCMT_LIMIT)) {\r\n\t\t\t\t\tcomments[i].subcommentIndex = comments[i].subcomments[length-1].index;\r\n\t\t\t\t\tcomments[i].viewMore = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcomments[i].viewMore = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.setState((state) => {return { comments: state.comments.concat(comments) }});\r\n\t\t} \r\n\t}\r\n\r\n\tfetchSubcomments = async (commentId, index) => {\r\n\t\tconst query = `query singlePost_subcomments($groupId: ID!, $postId: ID!, $commentId: ID!, $index: Int) {\r\n\t\t\tsinglePost_subcomments(groupId: $groupId, postId: $postId, commentId: $commentId, index: $index) {\r\n\t\t\t\t_id text timestamp likes index\r\n        \t\tauthor {\r\n        \t\t\t_id name avatarHash\r\n        \t\t}\r\n\t\t\t}\r\n\t\t}`;\r\n\t\tconst data = await graphQlFetch(query, { \r\n\t\t\tgroupId: this.props.groupId, postId: this.props.match.params.id, commentId, index  \r\n\t\t});\r\n\t\tif (data && data.singlePost_subcomments) {\r\n\t\t\tconst subcomments = data.singlePost_subcomments;\r\n\t\t\tconst comments = [...this.state.comments];\r\n\t\t\tconst comment = comments.find((comment) => comment._id === commentId);\r\n\t\t\tif (subcomments.length === parseInt(window.ENV.SUBCMT_LIMIT)) {\r\n\t\t\t\tcomment.subcommentIndex = subcomments[subcomments.length-1].index;\r\n\t\t\t\tcomment.viewMore = true;\r\n\t\t\t} else {\r\n\t\t\t\tcomment.viewMore = false;\r\n\t\t\t}\r\n\t\t\tcomment.subcomments.push(...data.singlePost_subcomments);\r\n\t\t\tthis.setState({ comments });\r\n\t\t}\r\n\t}\r\n\r\n\tfetchSinglePost = async () => {\r\n\t\tconst query = `query singlePost_post($userId: ID!, $groupId: ID!, $postId: ID!) {\r\n\t\t\tsinglePost_post(userId: $userId, groupId: $groupId, postId: $postId) {\r\n\t\t\t\t_id text timestamp userLiked numLikes numComments\r\n        \t\tauthor {\r\n        \t\t\t_id name avatarHash\r\n        \t\t}\r\n\t\t\t}\r\n\t\t}`;\r\n\t\tconst data = await graphQlFetch(query, { userId: this.props.userId, groupId: this.props.groupId, postId: this.props.match.params.id });\r\n\t\tif (data && data.singlePost_post) {\r\n\t\t\tconst post = data.singlePost_post;\r\n\t\t\tthis.setState({ post, numComments: post.numComments, numLikes: post.numLikes, userLiked: post.userLiked });\r\n\t\t} else {\r\n\t\t\tthis.setState({ post: {} });\r\n\t\t}\r\n\t\t//todo: display post dne page if data.singlePost == null\r\n\t}\r\n\r\n\tshowCommentInput = () => {\r\n\t\tthis.setState((state) => ({ showCommentInput: true, flip: !state.flip }));\r\n\t}\r\n\r\n\thideCommentInput = () => {\r\n\t\tthis.setState({ showCommentInput: false });\r\n\t}\r\n\r\n\thandleCreateComment = (text) => {\r\n\t\tthis.props.createComment(text, this.props.userId, this.props.groupId, this.state.post._id);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet post, comments, iconClass, iconAction, likeDot, commentDot, numComments;\r\n\t\tif (Object.keys(this.state.post).length > 0) { //post has been fetched\r\n\t\t\tpost = <Post post={this.state.post} />;\r\n\t\t\tif (this.state.userLiked) {\r\n\t\t\t\ticonClass = 'liked';\r\n\t\t\t\ticonAction = () => this.props.unlikePost(this.props.userId, this.props.groupId, this.state.post._id);\r\n\t\t\t} else {\r\n\t\t\t\ticonClass = 'not-liked';\r\n\t\t\t\ticonAction = () => this.props.likePost(this.props.userId, this.props.groupId, this.state.post._id);\r\n\t\t\t}\r\n\t\t\tif (this.state.numLikes !== 0) {\r\n\t\t\t\tlikeDot = <span className={`mid-dot ${iconClass}`}>&middot;</span>\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.state.comments.length > 0) {\r\n\t\t\tcomments = this.state.comments.map((comment, i) => (\r\n\t\t\t\t<CommentGroup \r\n\t\t\t\t\tkey={i} comment={comment} userId={this.props.userId} groupId={this.props.groupId} postId={this.state.post._id} \r\n\t\t\t\t\tavatarHash={this.props.avatarHash} createSubcomment={this.props.createSubcomment}\r\n\t\t\t\t\tlikeComment={this.props.likeComment}  unlikeComment={this.props.unlikeComment}\r\n\t\t\t\t\tlikeSubcomment={this.props.likeSubcomment} unlikeSubcomment={this.props.unlikeSubcomment}\r\n\t\t\t\t\tfetchSubcomments={this.fetchSubcomments}\r\n\t\t\t\t/>\r\n\t\t\t));\r\n\t\t\tnumComments = this.state.numComments;\r\n\t\t\tif (numComments !== 0) {\r\n\t\t\t\tcommentDot = <span className={`mid-dot ${iconClass}`}>&middot;</span>\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\t\t\t\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"expanded-post\">\r\n\t\t\t\t\t<div className=\"expanded-post-header clearfix\">\r\n\t\t\t\t\t\t<LinkContainer to=\"/\">\r\n\t\t\t\t\t\t\t<span className=\"expanded-post-x\"><i className=\"fas fa-times\"></i> Close</span>\r\n\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{post}\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<span className=\"commentIcon\" onClick={this.showCommentInput}><i className=\"far fa-comment\"></i> Reply</span>\r\n\t\t\t\t\t\t{commentDot}\r\n\t\t\t\t\t\t<span className=\"num-comments\">{numComments === 0 ? null : numComments}</span>\r\n\t\t\t\t\t\t<span className={`likeIcon ${iconClass}`} onClick={iconAction}>\r\n\t\t\t\t\t\t\t<i className=\"far fa-thumbs-up\"></i> Like\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<LikeInfo numLikes={this.state.numLikes} iconClass={iconClass} postId={this.state.post._id} groupId={this.props.groupId} />\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t{comments}\r\n\t\t\t\t\t<div className=\"view-more\" onClick={this.fetchComments}>{this.state.viewMore ? 'View more comments' : null}</div>\r\n\t\t\t\t\t<CommentInput \r\n\t\t\t\t\t\tavatarHash={this.props.avatarHash} create={this.handleCreateComment} \r\n\t\t\t\t\t\tvisible={this.state.showCommentInput} flip={this.state.flip} hide={this.hideCommentInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nExpandedPost.propTypes = {\r\n\tavatarHash: PropTypes.string,\r\n\tname: PropTypes.string,\r\n\tuserId: PropTypes.string,\r\n\tgroupId: PropTypes.string,\r\n\tcreateComment: PropTypes.func,\r\n\tcreateSubcomment: PropTypes.func,\r\n\tlikePost: PropTypes.func,\r\n\tunlikePost: PropTypes.func,\r\n\tlikeComment: PropTypes.func,\r\n\tunlikeComment: PropTypes.func,\r\n\tlikeSubcomment: PropTypes.func,\r\n\tunlikeSubcomment: PropTypes.func,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport parse, { domToReact } from 'html-react-parser';\r\n\r\nimport graphQlFetch from './graphQlFetch.js';\r\nimport '../css/Info.css';\r\n\r\nexport default class Info extends React.Component {\r\n\tstate = {\r\n\t\turls: [],\r\n\t\tshowModal: false,\r\n\t\tabout: `This is the official Class of 2021 Group for Columbia University in the City of New York, \r\n\t\t\tmaintained by the Office of Undergraduate Admissions. All members of the Class of 2021 attending \r\n\t\t\tColumbia College or The Fu Foundation School of Engineering and Applied Science at Columbia University \r\n\t\t\tin the City of New York are invited to join.`,\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.members.length === 0 && this.props.members.length > 0) {\r\n\t\t\tconst truncatedMembers = this.props.members.slice(0, 6);\r\n\t\t\tconst urls = truncatedMembers.map((member) => (\r\n\t\t\t\t`https://www.gravatar.com/avatar/${member.avatarHash}?d=identicon`\r\n\t\t\t));\r\n\t\t\tthis.setState({ urls });\r\n\t\t}\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({ showModal: false });\r\n\t}\r\n\r\n\ttoggleText = () => {\r\n\t\tconst dots = document.getElementById(\"dots\");\r\n\t\tconst more = document.getElementById(\"more\");\r\n\t\tconst hidden = document.getElementById(\"hidden\");\r\n\t\tconst less = document.getElementById(\"less\");\r\n\t\tif (more.style.display === \"none\") {\r\n\t\t\tdots.style.display = \"inline\";\r\n\t\t\tmore.style.display = \"inline\";\r\n\t\t\tmore.innerHTML = \"See More\";\r\n\t\t\thidden.style.display = \"none\";\r\n\t\t\tless.style.display = \"none\";\r\n\t\t} else {\r\n\t\t\tdots.style.display = \"none\";\r\n\t\t\tmore.style.display = \"none\";\r\n\t\t\thidden.style.display = \"inline\";\r\n\t\t\tless.style.display = \"inline\";\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst images = this.state.urls.map((url, i) => (\r\n\t\t\t<img key={i} className=\"info-pics\" src={url} />\r\n\t\t));\r\n\t\tlet about = this.state.about;\r\n\t\tif (about.length > 150) {\r\n\t\t\tabout = about.slice(0, 150) + '<span id=\"dots\">.... </span><span id=\"more\">See More</span><span id=\"hidden\">'\r\n\t\t\t\t+ about.slice(150) + '</span>&nbsp;<span id=\"less\">See Less</span>';\r\n\t\t}\r\n\t\tconst options = {\r\n\t\t\treplace: ({ attribs, children }) => {\r\n\t\t\t\tif (!attribs) return;\r\n\t\t\t\tif (attribs.id === 'more') {\r\n\t\t\t\t\treturn <span id=\"more\" onClick={this.toggleText}>See More</span>;\r\n\t\t\t\t}\r\n\t\t\t\tif (attribs.id === 'less') {\r\n\t\t\t\t\treturn <span id=\"less\" onClick={this.toggleText}>See Less</span>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"info-container\">\r\n\t\t\t\t\t<div className=\"info-box\">\r\n\t\t\t\t\t\t<div className=\"info-header clearfix\">\r\n\t\t\t\t\t\t\t<span className=\"one\">Members</span>\r\n\t\t\t\t\t\t\t<span className=\"two\">See All</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"clearfix\">\r\n\t\t\t\t\t\t\t{images}\r\n\t\t\t\t\t\t\t<Button variant=\"primary\">+ Invite</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<div className=\"about\">About</div>\r\n\t\t\t\t\t\t<p style={{marginBottom: 0}}>{parse(about, options)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Modal show={this.state.showModal} onHide={this.handleClose}>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tHello\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nInfo.propTypes = {\r\n\tmembers: PropTypes.arrayOf(PropTypes.object)\r\n};\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport graphQlFetch from './graphQlFetch.js';\r\nimport '../css/LikeInfo.css';\r\n\r\nexport default class LikeInfo extends React.Component {\r\n\tstate = {\r\n\t\tshowModal: false,\r\n\t\tisFetching: false,\r\n\t\tusers: [],\r\n\t}\r\n\r\n\thideModal = () => {\r\n\t\tthis.setState({ showModal: false });\r\n\t}\r\n\r\n\tshowModal = () => {\r\n\t\tthis.setState({ showModal: true });\r\n\t\tthis.getLikes();\r\n\t}\r\n\r\n\tonModalMounting = () => { //fix navbar jumping to the left\r\n  \t\tconst navbar = document.getElementsByClassName('navbar')[0];\r\n  \t\tnavbar.style.paddingRight = navbar.style.paddingLeft;\r\n  \t}\r\n\r\n  \tgetLikes = async () => {\r\n  \t\tthis.setState({ isFetching: true });\r\n  \t\tconst query = `query getPostLikes($groupId: ID!, $postId: ID!) {\r\n\t  \t\tgetPostLikes(groupId: $groupId, postId: $postId) {\r\n\t  \t\t\t_id name avatarHash\r\n\t  \t\t}\r\n\t\t}`;\r\n\t\tconst data = await graphQlFetch(query, { groupId: this.props.groupId, postId: this.props.postId });\r\n\t\tif (data && data.getPostLikes) {\r\n\t\t\tthis.setState({ users: data.getPostLikes, isFetching: false });\r\n\t\t} \r\n  \t}\r\n\r\n\trender() {\r\n\t\tif (this.props.numLikes === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet likedBy;\r\n\t\tif (this.state.users.length > 0) {\r\n\t\t\tlikedBy = this.state.users.map((user, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment key={i}>\r\n\t\t\t\t\t\t<div className=\"likeinfo-box\">\r\n\t\t\t\t\t\t\t<img className=\"likeinfo-profile-pic\" src={`https://www.gravatar.com/avatar/${user.avatarHash}?d=identicon&s=128`} />\t\r\n\t\t\t\t\t\t\t<div className=\"likeinfo-name\"><span>{user.name}</span></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr className=\"likeinfo-divider\" />\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<span onClick={this.showModal} className=\"show-likes\">\r\n\t\t\t\t\t<span className={`mid-dot ${this.props.iconClass}`}>&middot;</span>\r\n\t\t\t\t\t<span className={`num-likes ${this.props.iconClass}`}>{this.props.numLikes}</span>\r\n\t\t\t\t</span>\r\n\t\t\t\t<Modal show={this.state.showModal} onHide={this.hideModal} onEntering={this.onModalMounting}>\r\n\t\t\t\t\t<Modal.Header bsPrefix=\"post-form-modal-header modal-header\" closeButton>Liked by</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t{likedBy}\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nLikeInfo.propTypes = {\r\n\tnumLikes: PropTypes.number,\r\n\ticonClass: PropTypes.string,\r\n\tpostId: PropTypes.string,\r\n\tgroupId: PropTypes.string, \r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport socketIOClient from 'socket.io-client';\r\nimport PropTypes from 'prop-types';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport NavDropdown from 'react-bootstrap/NavDropdown';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Search from './Search.jsx';\r\nimport ChatTabContainer from './containers/ChatTabContainer.jsx';\r\nimport ChatWindowContainer from './containers/ChatWindowContainer.jsx';\r\nimport '../css/NavBar.css';\r\n\r\nexport default class NavBar extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tshowChatWindow: false,\r\n\t\t\tmember: {}, //person you currently have a chat window open with\r\n\t\t};\r\n\t\tthis.dropdown = React.createRef();\r\n\t}\r\n\r\n\tstatic chatDropdown = false;\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.socket = socketIOClient(\"localhost:3000\");\r\n\t\tthis.socket.emit(\"join_solo_room\", this.props.userId); //be able to receive notifs when anyone sends you a message\r\n\t\tthis.socket.on(\"message\", (message) => {\r\n\t\t\tif (!this.state.showChatWindow || this.state.member._id !== message.sender) {\r\n\t\t\t\t alert('you have msg');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tsignOut = async () => {\r\n\t\tconst apiEndpoint = window.ENV.UI_API_AUTH_ENDPOINT;\r\n\t\ttry {\r\n\t\t\tawait fetch(`${apiEndpoint}/signout`, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tcredentials: 'include',\r\n\t\t\t});\r\n\t\t\twindow.location.href = window.ENV.UI_SERVER_ORIGIN; \r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(`Error signing out: ${error}`);\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tgetPosts = (groupId) => {\r\n\t\tthis.props.updateActiveGroupId(groupId);\r\n\t\tthis.props.fetchGroupPosts(this.props.userId, groupId); //huh??\r\n\t}\r\n\r\n\tonScreenClick = (e) => {\r\n\t\tif (!e.target.matches('#chat-tab-span')) {\r\n\t\t\tthis.chatDropdown = false;\r\n\t\t\tthis.dropdown.current.style.display = 'none';\r\n\t    \tdocument.getElementById('base').removeChild(document.transparentScreenChat);\r\n\t\t}\r\n\t}\r\n\r\n\tonMessageClick = (member) => {\r\n\t\tthis.chatDropdown = false;\r\n\t\tthis.dropdown.current.style.display = 'none';\r\n    \tdocument.getElementById('base').removeChild(document.transparentScreenChat);\r\n    \tthis.setState({ showChatWindow: true, member });\r\n\t}\r\n\r\n\tonToggleChats = () => {\r\n\t\tif (!this.chatDropdown) {\r\n\t\t\tthis.chatDropdown = true;\r\n\t\t\tthis.dropdown.current.style.display = 'inline';\r\n\t\t\tdocument.transparentScreenChat = document.createElement(\"div\");\r\n\t    \tdocument.transparentScreenChat.className = \"transparent-screen-chat\";\r\n\t    \tdocument.transparentScreenChat.addEventListener('click', this.onScreenClick);\r\n\t    \tdocument.getElementById('base').appendChild(document.transparentScreenChat);\r\n\t    } else {\r\n\t    \tthis.chatDropdown = false;\r\n\t    \tthis.dropdown.current.style.display = 'none';\r\n\t    \tdocument.getElementById('base').removeChild(document.transparentScreenChat);\r\n\t    }\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst items = this.props.groups.map((group, i) => (\r\n\t\t\t<NavDropdown.Item key={i} onClick={() => this.getPosts(group._id)}>{group.name}</NavDropdown.Item>\r\n\t\t));\r\n\t\treturn (\r\n\t\t\t<Navbar fixed=\"top\" variant=\"dark\" bg=\"dark\">\r\n\t\t\t\t<Navbar.Brand><Link to=\"/\" className=\"loop_link\">Loop</Link></Navbar.Brand>\r\n\t\t\t\t<Navbar.Collapse className=\"justify-content-end\">\r\n\t\t\t\t\t<Col sm={3}>\r\n\t\t\t\t\t\t<Search />\r\n\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t<span className=\"chat-toggle\" onClick={this.onToggleChats}>Message</span>\r\n\t\t\t\t\t<span id=\"chat-tab-span\" ref={this.dropdown}>\r\n\t\t\t\t\t\t<ChatTabContainer onMessageClick={this.onMessageClick} />\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t{this.state.showChatWindow ? \r\n\t\t\t\t\t\tReactDOM.createPortal(<ChatWindowContainer member={this.state.member} />, document.getElementById('contents')) : null}\r\n\r\n\t\t\t\t\t<NavDropdown title=\"Groups\" id=\"basic-nav-dropdown\">\r\n\t\t\t\t\t\t{items}\r\n      \t\t\t\t</NavDropdown>\r\n\t\t\t\t\t<Button variant=\"outline-info\" onClick={this.signOut}>Sign out</Button>\r\n\t\t\t\t</Navbar.Collapse>\r\n\t\t\t</Navbar>\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nNavBar.propTypes = {\r\n\tname: PropTypes.string,\r\n\tuserId: PropTypes.string,\r\n\tgroups: PropTypes.arrayOf(PropTypes.object),\r\n\tfetchGroupPosts: PropTypes.func,\r\n\tupdateActiveGroupId: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport { Route, Switch } from 'react-router-dom';\r\n//import getScrollbarWidth from 'get-scrollbar-width';\r\n\r\nimport PostFormContainer from './containers/PostFormContainer.jsx';\r\nimport { PostComment } from './PostComment.jsx';\r\nimport InfoContainer from './containers/InfoContainer.jsx';\r\nimport ExpandedPostContainer from './containers/ExpandedPostContainer.jsx';\r\nimport '../css/NewsFeed.css';\r\n\r\nconst dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\r\n\r\nfunction jsonDateReviver(key, value) {\r\n\tif (dateRegex.test(value)) return new Date(value);\r\n\treturn value;\r\n}\r\n\r\nexport default class NewsFeed extends React.Component {\r\n\tcomponentWillUnmount() {\r\n\t\tthis.eventSource.close();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.userId) {\r\n\t\t\tconst params = new URLSearchParams(this.props.location.search);\r\n\t\t\tconst groupId = params.get('groupId');\r\n\t\t\tthis.onGroupChange(groupId);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst oldParams = new URLSearchParams(prevProps.location.search);\r\n\t\tconst newParams = new URLSearchParams(this.props.location.search);\r\n\t\tif (oldParams.get('groupId') !== newParams.get('groupId') || (!prevProps.userId && this.props.userId)) {\r\n\t\t\tthis.onGroupChange(newParams.get('groupId'));\r\n\t\t}\r\n\t}\r\n\r\n\t//need a not found page\r\n\r\n\tonGroupChange = (groupId) => {\r\n\t\tif (!groupId) return;\r\n\r\n\t\tthis.eventSource ? this.eventSource.close() : null;\r\n\t\tthis.eventSource = new EventSource(`${window.ENV.UI_API_SSE_ENDPOINT}?groupId=${groupId}`);\r\n\r\n\t\tthis.eventSource.addEventListener('create_post_mutation', (e) => {\r\n\t\t\tconst post = JSON.parse(e.data, jsonDateReviver).post;\r\n\t\t\tpost.numLikes = 0;\r\n\t\t\tpost.numComments = 0;\r\n\t\t\tpost.userLiked = false;\r\n\t\t\tthis.props.updateSinglePost(post);\r\n\t\t});\r\n\r\n\t\tthis.eventSource.addEventListener('delete_post_mutation', (e) => {\r\n\t\t\tthis.props.deleteSinglePost(e.data); //e.data = postId\r\n\t\t});\r\n\t\t\r\n\t\tthis.eventSource.addEventListener('stat_mutation', (e) => {\r\n\t\t\tthis.props.fetchPostStats(this.props.userId, groupId, e.data);\r\n\t\t});\r\n\r\n\t\tthis.props.fetchGroupPosts(this.props.userId, groupId);\r\n\t}\r\n\r\n\t/*showPost = (post) => {\r\n\t\tthis.setState({ showPost: true, activePost: post });\r\n\t\t//document.documentElement.style.overflowY = \"hidden\";\r\n\t\t//document.documentElement.style.paddingRight = `${getScrollbarWidth()}px`;\r\n\t}*/\r\n\r\n\t/*modalExiting = () => {\r\n\t\tdocument.documentElement.style.overflowY = \"auto\";\r\n\t}*/\r\n\r\n\thandleLikePost = (postId) => {\r\n\t\tthis.props.likePost(this.props.userId, this.props.groupId, postId);\r\n\t}\r\n\r\n\thandleUnlikePost = (postId) => {\r\n\t\tthis.props.unlikePost(this.props.userId, this.props.groupId, postId);\r\n\t}\r\n\r\n\tviewMore = () => {\r\n\t\tthis.props.fetchGroupPosts(this.props.userId, this.props.groupId, this.props.postIndex);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.error) {\r\n\t\t\treturn <h1>Not found!!!</h1>;\r\n\t\t}\r\n\t\tif (this.props.isFetching) {\r\n\t\t\t//todo: properly position the spinner\r\n\t\t\treturn (<Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>);\r\n\t\t}\r\n\t\tconst viewMore = this.props.postIndex !== -1 ? <div className=\"view-more-newsfeed\" onClick={this.viewMore}>View more</div> : null;\r\n\t\treturn (\r\n\t\t\t<div className=\"top-container\" id=\"base\">\r\n\t\t\t\t<Container fluid={true}>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={{ span: 4, offset: 4 }} data-cy=\"newsfeed\">\r\n\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t<Route exact path=\"/post/:id\" component={ExpandedPostContainer} />\r\n\t\t\t\t\t\t\t\t<Route path=\"/\" render={(props) => {\r\n\t\t\t\t\t\t\t\t\tconst postComments = this.props.posts.map((post, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<PostComment \r\n\t\t\t\t\t\t\t\t\t\t\tkey={i} post={post} showPost={this.showPost} groupId={this.props.groupId}\r\n\t\t\t\t\t\t\t\t\t\t\tlikePost={this.handleLikePost} unlikePost={this.handleUnlikePost} \r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t));\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t<PostFormContainer />\r\n\t\t\t\t\t\t\t\t\t\t\t{postComments}\r\n\t\t\t\t\t\t\t\t\t\t\t{viewMore}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={{ span: 4 }}>\r\n\t\t\t\t\t\t\t<InfoContainer />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nNewsFeed.propTypes = {\r\n\tposts: PropTypes.arrayOf(PropTypes.object),\r\n\tpostIndex: PropTypes.number,\r\n\tisFetching: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\tavatarHash: PropTypes.string,\r\n\tname: PropTypes.string,\r\n\tuserId: PropTypes.string,\r\n\tgroupId: PropTypes.string,\r\n\r\n\tfetchGroupPosts: PropTypes.func,\r\n\tupdateActiveGroupId: PropTypes.func,\r\n\tlikePost: PropTypes.func,\r\n\tunlikePost: PropTypes.func,\r\n\tfetchPostStats: PropTypes.func,\r\n\tupdateSinglePost: PropTypes.func,\r\n\tdeleteSinglePost: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport '../css/OptionsIcon.css';\r\n\r\nexport default class OptionsIcon extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.dropdown = React.createRef();\r\n\t}\r\n\r\n\tonScreenClick = (e) => {\r\n\t\tif (!e.target.matches('#dropdown-carat')) {\r\n\t\t\tthis.dropdown.current.style.display = 'none';\r\n\t    \tdocument.getElementById('base').removeChild(document.transparentScreen);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tonCaratClick = (e) => {\r\n\t\te.stopPropagation();\r\n\t\tthis.dropdown.current.style.display = 'inline';\r\n\t\tdocument.transparentScreen = document.createElement(\"div\");\r\n    \tdocument.transparentScreen.className = \"transparent-screen\";\r\n    \tdocument.transparentScreen.addEventListener('click', this.onScreenClick);\r\n    \tdocument.getElementById('base').appendChild(document.transparentScreen);\r\n\t}\r\n\r\n\ttempClickHandler = (e) => {\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\tonDelete = (e) => {\r\n\t\tthis.props.delete(this.props.groupId, this.props.postId, this.props.commentId, this.props.subcommentId); //latter params may be null\r\n\t\tthis.dropdown.current.style.display = 'none';\r\n    \tdocument.getElementById('base').removeChild(document.transparentScreen);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet remove, label;\r\n\t\tif (this.props.type === \"post\") {\r\n\t\t\tlabel = \"dropdown-post\";\r\n\t\t} else if (this.props.type === \"comment\") {\r\n\t\t\tlabel = \"dropdown-comment\";\r\n\t\t} else {\r\n\t\t\tlabel = \"dropdown-reply\";\r\n\t\t}\r\n\t\tif (this.props.authorId === this.props.userId) {\r\n\t\t\tif (this.props.type === \"post\") {\r\n\t\t\t\tremove = <div onClick={this.onDelete} data-cy=\"delete\"><i className=\"far fa-trash-alt\"></i>&nbsp;&nbsp;Delete post</div>;\r\n\t\t\t} else if (this.props.type === \"comment\") {\r\n\t\t\t\tremove = <div onClick={this.onDelete} data-cy=\"delete\"><i className=\"far fa-trash-alt\"></i>&nbsp;&nbsp;Delete comment</div>;\r\n\t\t\t} else {\r\n\t\t\t\tremove = <div onClick={this.onDelete} data-cy=\"delete\"><i className=\"far fa-trash-alt\"></i>&nbsp;&nbsp;Delete reply</div>;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<span className=\"carat-icon\" onClick={this.onCaratClick} data-cy=\"dropdown\"><i className=\"fas fa-caret-down\"></i></span>\r\n\t\t\t\t<span \r\n\t\t\t\t\tid=\"dropdown-carat\" ref={this.dropdown} onClick={this.tempClickHandler} \r\n\t\t\t\t\tclassName={label} \r\n\t\t\t\t>\r\n\t\t\t\t\t<div><i className=\"far fa-bookmark\"></i>&nbsp;&nbsp;Bookmark</div>\r\n\t\t\t\t\t{remove}\r\n\t\t\t\t</span>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nOptionsIcon.propTypes = {\r\n\t//passed from a component\r\n\ttype: PropTypes.string, //either post, comment, or subcomment\r\n\tauthorId: PropTypes.string, \r\n\tpostId: PropTypes.string, \r\n\tcommentId: PropTypes.string, //can be null\r\n\tsubcommentId: PropTypes.string, //can be null\r\n\r\n\t//passed from redux\r\n\tuserId: PropTypes.string,\r\n\tgroupId: PropTypes.string,\r\n\tremove: PropTypes.func, //deletePost, deleteComment, or deleteSubcomment\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\n\r\nimport NewsFeedContainer from './containers/NewsFeedContainer.jsx';\r\nimport NavBarContainer from './containers/NavBarContainer.jsx';\r\nimport ToastContainer from './containers/ToastContainer.jsx';\r\nimport graphQlFetch from './graphQlFetch.js';\r\n\r\nclass Page extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { name, email } = window.__INITIAL_DATA__;\r\n\t\tthis.props.updateUserInfo(name, email);\r\n\t\tthis.props.fetchUserInfo(email); //you can setTimeout here to test props.userId updating in <NewsFeed>\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.isFetching && !this.props.isFetching) { //on refresh or initial page load\r\n\t\t\t//handle case when user has no groups - render create group option\r\n\r\n\t\t\tconst params = new URLSearchParams(this.props.location.search);\r\n\t\t\tconst groupId = params.get('groupId');\r\n\t\t\tif (!groupId) { \r\n\t\t\t\tthis.props.updateActiveGroupId(this.props.groups[0]._id); //default option (first group)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.updateActiveGroupId(groupId); \r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevProps.activeGroupId !== this.props.activeGroupId) { //user changed groups\r\n\t\t\tthis.props.history.push({ search: `?groupId=${this.props.activeGroupId}` });\r\n\t\t}\r\n\t}\r\n\r\n\thideToast = () => {\r\n\t\tthis.props.clearToastMessage();\r\n  \t} \r\n\r\n\trender() {\r\n\t\tif (this.props.isFetching) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<NavBarContainer />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route component={NewsFeedContainer} />\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<ToastContainer />\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nPage.propTypes = {\r\n\tupdateUserInfo: PropTypes.func,\r\n\tfetchUserInfo: PropTypes.func,\r\n\tclearToastMessage: PropTypes.func,\r\n\tupdateActiveGroupId: PropTypes.func,\r\n\t\r\n\tisFetching: PropTypes.bool,\r\n\tgroups: PropTypes.arrayOf(PropTypes.object),\r\n\tactiveGroupId: PropTypes.string,\r\n\ttoastMsg: PropTypes.string,\r\n};\r\n\r\nexport default withRouter(Page);","import React from 'react';\r\nimport Col from 'react-bootstrap/Col';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport autosize from 'autosize';\r\nimport TimeAgo from 'react-timeago';\r\nconst moment = require('moment');\r\n\r\nimport PostOptionsIconContainer from './containers/PostOptionsIconContainer.jsx';\r\nimport CommentOptionsIconContainer from './containers/CommentOptionsIconContainer.jsx';\r\nimport SubcommentOptionsIconContainer from './containers/SubcommentOptionsIconContainer.jsx';\r\nimport LikeInfo from './LikeInfo.jsx';\r\nimport '../css/PostComment.css';\r\nimport '../css/ExpandedPost.css';\r\n\r\n//props: avatarHash, create (createComment OR createSubcomment), visible, flip, hide (func)\r\nclass CommentInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.textArea = React.createRef();\r\n\t\tthis.state = {\r\n\t\t\ttext: ''\r\n\t\t};\r\n\t}\r\n\r\n\tonEnterPress = (e) => {\r\n\t\tif(e.keyCode == 13 && e.shiftKey == false && this.state.text.trim()) {\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.props.create(this.state.text); \r\n\t\t\tthis.setState({ text: '' }, () => autosize.update(this.textArea.current));\r\n\t\t}\r\n\t}\r\n\r\n\tonTextChange = (e) => {\r\n\t\tthis.setState({ text: e.target.value });\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.flip !== this.props.flip) { //user clicked on reply\r\n\t\t\tautosize(this.textArea.current);\r\n\t\t\tthis.textArea.current.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n\t\t\tthis.textArea.current.focus({ preventScroll: true });\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (e) => {\r\n\t\tif (this.state.text.trim() == '') {\r\n\t\t\tthis.props.hide();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.props.visible) return null;\r\n\t\treturn (\r\n\t\t\t<div className=\"cmt-container\">\r\n\t\t\t\t<div className=\"cmt-pic\">\r\n\t\t\t\t\t<img className=\"cmt-profile-pic\" src={`https://www.gravatar.com/avatar/${this.props.avatarHash}?d=identicon&s=128`} />\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<textarea \r\n\t\t\t\t\tclassName=\"cmt-textarea\" ref={this.textArea} placeholder=\"Write a comment\" onBlur={this.onBlur}\r\n\t\t\t\t\trows={1} onKeyDown={this.onEnterPress} value={this.state.text} onChange={this.onTextChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//prop strings: comment, userId, groupId, postId, commentId, subcommentId (may be null)\r\n//prop functions: like, unlike, openCommentInput\r\nfunction Comment(props) {\r\n\tconst { text, timestamp, author: { _id: authorId, name, avatarHash }, likes } = props.comment;\r\n\tconst { comment, userId, groupId, postId, commentId, subcommentId } = props;\r\n\t\r\n\tconst numLikes = likes.length;\r\n\tlet iconClass, iconAction, likeDot, icon, numLikesSpan;\r\n\tif (likes.includes(userId)) {\r\n\t\ticonClass = 'liked';\r\n\t\ticonAction = () => props.unlike(userId, groupId, postId, commentId, subcommentId); \r\n\t} else {\r\n\t\ticonClass = 'not-liked';\r\n\t\ticonAction = () => props.like(userId, groupId, postId, commentId, subcommentId); \r\n\t}\r\n\tif (numLikes !== 0) {\r\n\t\tlikeDot = <span className=\"mid-dot\">&middot;</span>;\r\n\t\tnumLikesSpan = <span className={`num-likes ${iconClass}`}>{numLikes}</span>;\r\n\t}\r\n\tif (subcommentId) {\r\n\t\ticon = (\r\n\t\t\t<SubcommentOptionsIconContainer \r\n\t\t\t\ttype=\"subcomment\" authorId={authorId} postId={postId} commentId={commentId} subcommentId={subcommentId}  \r\n\t\t\t/>\r\n\t\t);\r\n\t} else {\r\n\t\ticon = <CommentOptionsIconContainer type=\"comment\" authorId={authorId} postId={postId} commentId={commentId} />;\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"cmt-container\">\r\n\t\t\t<div className=\"cmt-pic\">\r\n\t\t\t\t<img className=\"cmt-profile-pic\" src={`https://www.gravatar.com/avatar/${avatarHash}?d=identicon&s=128`} />\t\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"cmt-text\">\r\n\t\t\t\t\t<span className=\"cmt-name\">{name}</span> \r\n\t\t\t\t\t&nbsp;{text}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cmt-options\">\r\n\t\t\t\t\t<span className={`cmt likeIcon ${iconClass}`} onClick={iconAction}>Like</span>\r\n\t\t\t\t\t{likeDot}\r\n\t\t\t\t\t{numLikesSpan}\r\n\t\t\t\t\t<span className=\"commentIcon\" onClick={props.openCommentInput}>Reply</span>\r\n\t\t\t\t\t<span className=\"cmt-time\"><TimeAgo date={timestamp} minPeriod={30} formatter={cmtDateFormatter}/></span>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//prop strings: userId, groupId, postId, avatarHash, comment\r\n//prop functions: createSubcomment, likeComment, unlikeComment, likeSubcomment, unlikeSubcomment, fetchSubcomments\r\nclass CommentGroup extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state ={\r\n\t\t\tshowCommentInput: false,\r\n\t\t\tflip: false,\r\n\t\t};\r\n\t}\r\n\t\r\n\thandleCreateSubcomment = (text) => {\r\n\t\tthis.props.createSubcomment(text, this.props.userId, this.props.groupId, this.props.postId, this.props.comment._id);\r\n\t}\r\n\r\n\topenCommentInput = () => { \r\n\t\tthis.setState((state) => ({ showCommentInput: true, flip: !state.flip })); \r\n\t};\r\n\r\n\thideCommentInput = () => {\r\n\t\tthis.setState({ showCommentInput: false });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { userId, groupId, postId, avatarHash, comment } = this.props;\r\n\t\tconst { likeComment, unlikeComment, likeSubcomment, unlikeSubcomment, fetchSubcomments } = this.props;\r\n\t\tconst subcomments = comment.subcomments.map((subcomment, i) => (\r\n\t\t\t<Comment \r\n\t\t\t\tkey={i} comment={subcomment} userId={userId} groupId={groupId} postId={postId} openCommentInput={this.openCommentInput}\r\n\t\t\t\tcommentId={comment._id} subcommentId={subcomment._id} like={likeSubcomment} unlike={unlikeSubcomment}\r\n\t\t\t/>\r\n\t\t));\r\n\t\tlet viewMore;\r\n\t\tif (comment.viewMore) {\r\n\t\t\tviewMore = (\r\n\t\t\t\t<div className=\"view-more reply\" onClick={() => { fetchSubcomments(comment._id, comment.subcommentIndex) }}>\r\n\t\t\t\t\t<i className=\"fas fa-reply\"></i> View more replies\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Comment \r\n\t\t\t\t\tcomment={comment} userId={userId} groupId={groupId} postId={postId} \r\n\t\t\t\t\tcommentId={comment._id} like={likeComment} unlike={unlikeComment} openCommentInput={this.openCommentInput}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"subcomments-container\">\r\n\t\t\t\t\t{subcomments}\r\n\t\t\t\t\t{viewMore}\r\n\t\t\t\t\t<CommentInput \r\n\t\t\t\t\t\tavatarHash={avatarHash} create={this.handleCreateSubcomment} \r\n\t\t\t\t\t\tvisible={this.state.showCommentInput} flip={this.state.flip} hide={this.hideCommentInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction cmtDateFormatter(value, unit, suffix, epochSeconds, nextFormatter) {\r\n\tif (value === 0 && unit === 'second') {\r\n\t\treturn 'just now';\r\n\t} else {\r\n\t\treturn value + unit.slice(0, 1).toLowerCase();\r\n\t}\r\n}\r\n\r\nfunction postDateFormatter(value, unit, suffix, epochSeconds, nextFormatter) {\r\n\tif (['day', 'week', 'month'].includes(unit)) {\r\n\t\treturn moment(new Date(epochSeconds)).format('MMMM D [at] h:mma'); \r\n\t} else if (unit === 'year') {\r\n\t\treturn moment(new Date(epochSeconds)).format('MMMM D, YYYY'); \r\n\t} else if (value < 20 && unit === 'second') {\r\n\t\treturn 'just now';\r\n\t} else {\r\n\t\treturn nextFormatter();\r\n\t}\r\n}\r\n//\"March 29 2020 10:30\"\r\nfunction Post(props) {\r\n\tconst { _id: postId, text, timestamp, author: { _id: authorId, name, avatarHash } } = props.post;\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<table>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td> \r\n\t\t\t\t\t\t<img className=\"profile-pic\" src={`https://www.gravatar.com/avatar/${avatarHash}?d=identicon&s=128`} />\t\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className='user-info'>\r\n\t\t\t\t\t\t<div className=\"user-name\">{name}</div>\r\n\t\t\t\t\t\t<div className=\"date\"><TimeAgo date={timestamp} minPeriod={30} formatter={postDateFormatter}/></div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t<span className=\"post-options-icon\"><PostOptionsIconContainer authorId={authorId} postId={postId} type=\"post\" /></span>\r\n\t\t\t<div data-cy=\"post-text\">{text}</div>\t\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nclass PostComment extends React.Component {\r\n\trender() {\r\n\t\tconst post = this.props.post;\r\n\t\tlet iconClass, iconAction, likeDot, commentDot;\r\n\t\tif (post.userLiked) {\r\n\t\t\ticonClass = 'liked';\r\n\t\t\ticonAction = () => this.props.unlikePost(post._id);\r\n\t\t} else {\r\n\t\t\ticonClass = 'not-liked';\r\n\t\t\ticonAction = () => this.props.likePost(post._id);\r\n\t\t}\r\n\t\tif (post.numComments !== 0) {\r\n\t\t\tcommentDot = <span className=\"mid-dot\">&middot;</span>\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<LinkContainer to={`/post/${post._id}`}>\r\n\t\t\t\t\t<div className=\"post\" data-cy=\"post\">\r\n\t\t\t\t\t\t<Post post={post} />\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<span onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t\t\t\t<span className=\"commentIcon\"><i className=\"far fa-comment\"></i> Reply</span>\r\n\t\t\t\t\t\t\t{commentDot}\r\n\t\t\t\t\t\t\t<span className=\"num-comments\">{post.numComments === 0 ? null : post.numComments}</span>\r\n\t\t\t\t\t\t\t<span className={`likeIcon ${iconClass}`} onClick={iconAction}>\r\n\t\t\t\t\t\t\t\t<i className=\"far fa-thumbs-up\"></i> Like \r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<LikeInfo numLikes={post.numLikes} iconClass={iconClass} postId={post._id} groupId={this.props.groupId} />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</LinkContainer>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { PostComment, Post, Comment, CommentInput, CommentGroup };\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport autosize from 'autosize';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport '../css/PostForm.css';\r\nimport graphQlFetch from './graphQlFetch.js';\r\n\r\nexport default class PostForm extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.textArea = React.createRef();\r\n\t\tthis.state = {\r\n\t\t\ttext: '',\r\n\t\t\tshowModal: false,\r\n\t\t\tdisabled: true,\r\n\t\t};\r\n\t}\r\n\r\n  \tonTextChange = (e) => {\r\n  \t\tif (e.target.value) {\r\n  \t\t\tthis.setState({ text: e.target.value, disabled: false });\r\n  \t\t} else {\r\n  \t\t\tthis.setState({ text: e.target.value, disabled: true });\r\n  \t\t}\r\n  \t}\r\n\r\n  \thideModal = () => {\r\n  \t\tthis.setState({ showModal: false, text: '', disabled: true });\r\n  \t}\r\n\r\n  \topenModal = () => {  \t\t\r\n  \t\tthis.setState({ showModal: true });\r\n  \t}\r\n\r\n  \tonModalMounting = () => { //fix navbar jumping to the left\r\n  \t\tconst navbar = document.getElementsByClassName('navbar')[0];\r\n  \t\tnavbar.style.paddingRight = navbar.style.paddingLeft;\r\n  \t}\r\n\r\n  \tonModalMount = () => { //textArea ref not accessible until the modal has finished rendering\r\n  \t\tautosize(this.textArea.current);\r\n  \t\tthis.textArea.current.focus();\r\n  \t}\r\n\r\n  \thandleSubmit = async () => {\r\n  \t\tif (this.state.text) {\r\n  \t\t\tthis.setState({ disabled: true });\r\n  \t\t\tthis.props.createPost(this.state.text, this.props.authorId, this.props.groupId);\r\n  \t\t\tthis.hideModal();\r\n  \t\t}\r\n  \t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"post-form-container\">\r\n\t\t\t\t\t<div className=\"pic-flex\">\r\n\t\t\t\t\t\t<img src={`https://www.gravatar.com/avatar/${this.props.avatarHash}?d=identicon&s=128`} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-flex\" onClick={this.openModal} data-cy=\"open-post-modal\">\r\n\t\t\t\t\t\tPost Something!\r\n\t\t\t\t\t</div>\t\t\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Modal show={this.state.showModal} onHide={this.hideModal} onEntered={this.onModalMount} onEntering={this.onModalMounting}>\r\n\t\t\t\t\t<Modal.Header bsPrefix=\"post-form-modal-header modal-header\" closeButton>Create Post</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"post-form-header\">\r\n\t\t\t\t\t\t\t\t<div className=\"pic-flex\">\r\n\t\t\t\t\t\t\t\t\t<img src={`https://www.gravatar.com/avatar/${this.props.avatarHash}?d=identicon&s=128`} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"post-form-txt\">\r\n\t\t\t\t\t\t\t\t\t<span>{this.props.name}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<textarea \r\n\t\t\t\t\t\t\t\tref={this.textArea} placeholder=\"Post something!\" data-cy=\"post-textarea\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.text} onChange={this.onTextChange} \r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Button style={{width: \"100%\"}} variant=\"primary\" disabled={this.state.disabled} onClick={this.handleSubmit} data-cy=\"post-submit\">Submit</Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nPostForm.propTypes = {\r\n\tname: PropTypes.string,\r\n\tavatarHash: PropTypes.string,\r\n\tauthorId: PropTypes.string,\r\n\tgroupId: PropTypes.string,\r\n\tcreatePost: PropTypes.func,\r\n};","import React from 'react';\r\nimport SelectAsync from 'react-select/Async';\r\n\r\nimport graphQlFetch from './graphQlFetch.js';\r\n\r\nexport default class Search extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.loadOptions = this.loadOptions.bind(this);\r\n\t}\r\n\r\n\tasync loadOptions(term) {\r\n\t\tconst query = `query events($search: String) {\r\n\t\t\tevents(search: $search) {\r\n\t\t\t\tid title description\r\n\t\t\t}\r\n\t\t}`;\r\n\t\tconst data = await graphQlFetch(query, { search: term });\r\n\t\treturn data.events.map(event => ({\r\n\t\t\tlabel: `${event.title}: ${event.description}`,\r\n\t\t\tvalue: event.id,\r\n\t\t}));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst customStyles = {\r\n\t\t\toption: (styles, state) => ({\r\n\t\t\t\t...styles, //styles passed by react-select\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t}),\r\n\t\t\tcontrol: (styles) => ({\r\n\t\t\t\t...styles,\r\n\t\t\t\tcursor: 'auto',\r\n\t\t\t}),\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<SelectAsync\r\n\t\t\t\tstyles={customStyles}\r\n\t\t\t\tinstanceId=\"search-select\"\r\n\t\t\t\tvalue=\"\"\r\n\t\t\t\tloadOptions={this.loadOptions}\r\n\t\t\t\tfilterOption={() => true}\r\n\t\t\t\tcomponents={{ DropdownIndicator: null }}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport '../css/Toast.css';\r\n\r\nexport default class Toast extends React.Component {\r\n\tstate = {\r\n\t\tstyle: { display: 'none' },\r\n\t\tclass: '',\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.toastMsg)\r\n\t\t{\r\n\t\t\tthis.setState({ style: { display: 'block' }, class: 'toastFade' });\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.setState({ style: { display: 'none' }, class: '' });\r\n\t\t\t\tthis.props.clearToastMessage();\r\n\t\t\t}, 4000);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearTimeout(this.timer);\r\n\t\tclearTimeout(this.timer1);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.toastTime !== this.props.toastTime) {\r\n\t\t\tthis.timer ? clearTimeout(this.timer) : null;\r\n\t\t\tthis.setState({ class: '' }, () => {\r\n\t\t\t\tthis.timer1 = setTimeout(() => { \r\n\t\t\t\t\tthis.setState({ style: { display: 'block' }, class: 'toastFade' });\r\n\t\t\t\t}, 100);\r\n\t\t\t});\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\tthis.setState({ style: { display: 'none' }, class: '' });\r\n\t\t\t\tthis.props.clearToastMessage();\r\n\t\t\t}, 4000);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={this.state.style} className={`toastMsg ${this.state.class}`}>{this.props.toastMsg}</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tclearToastMessage: PropTypes.func,\r\n\ttoastMsg: PropTypes.string,\r\n\ttoastTime: PropTypes.number,\r\n};","import fetch from 'isomorphic-fetch';\r\n\r\nimport graphQlFetch from './graphQlFetch.js';\r\n\r\nexport const FETCH_POSTS_REQUEST = 'FETCH_POSTS_REQUEST';\r\nexport function fetchPostsRequest() {\r\n  return { type: FETCH_POSTS_REQUEST };\r\n}\r\n\r\nexport const FETCH_POSTS_SUCCESS = 'FETCH_POSTS_SUCCESS';\r\nexport function fetchPostsSuccess(posts) {\r\n  return { type: FETCH_POSTS_SUCCESS, posts };\r\n}\r\n\r\nexport const FETCH_GROUP_MEMBERS_SUCCESS = 'FETCH_GROUP_MEMBERS_SUCCESS';\r\nexport function fetchGroupMembersSuccess(members) {\r\n\treturn { type: FETCH_GROUP_MEMBERS_SUCCESS, members };\r\n}\r\n\r\nexport const FETCH_POSTS_ERROR = 'FETCH_POSTS_ERROR';\r\nexport function fetchPostsError() {\r\n  return { type: FETCH_POSTS_ERROR };\r\n}\r\n\r\nexport const UPDATE_SINGLE_POST = 'UPDATE_SINGLE_POST';\r\nexport function updateSinglePost(post) {\r\n\treturn { type: UPDATE_SINGLE_POST, post };\r\n}\r\n\r\nexport const DELETE_SINGLE_POST = 'DELETE_SINGLE_POST';\r\nexport function deleteSinglePost(postId) {\r\n\treturn { type: DELETE_SINGLE_POST, postId };\r\n}\r\n\r\nexport const FETCH_POST_STATS_SUCCESS = 'FETCH_POST_STATS_SUCCESS';\r\nexport function fetchPostStatsSuccess(post) {\r\n\treturn { type: FETCH_POST_STATS_SUCCESS, post }\r\n}\r\n\r\nexport const UPDATE_USER_INFO = 'UPDATE_USER_INFO';\r\nexport function updateUserInfo(name, email) {\r\n\treturn { type: UPDATE_USER_INFO, name, email };\r\n}\r\n\r\nexport const FETCH_USER_INFO_REQUEST = 'FETCH_USER_INFO_REQUEST';\r\nexport function fetchUserInfoRequest() {\r\n\treturn { type: FETCH_USER_INFO_REQUEST };\r\n}\r\n\r\nexport const FETCH_USER_INFO_SUCCESS = 'FETCH_USER_INFO_SUCCESS';\r\nexport function fetchUserInfoSuccess(groups, _id, avatarHash) {\r\n\treturn { type: FETCH_USER_INFO_SUCCESS, groups, _id, avatarHash };\r\n}\r\n\r\nexport const UPDATE_ACTIVE_GROUP_ID = 'UPDATE_ACTIVE_GROUP_ID';\r\nexport function updateActiveGroupId(groupId) {\r\n\treturn { type: UPDATE_ACTIVE_GROUP_ID, groupId };\r\n}\r\n\r\nexport const SET_TOAST_MESSAGE = 'SET_TOAST_MESSAGE';\r\nexport function setToastMessage(msg, time) {\r\n\treturn { type: SET_TOAST_MESSAGE, msg, time };\r\n}\r\n\r\nexport const CLEAR_TOAST_MESSAGE = 'CLEAR_TOAST_MESSAGE';\r\nexport function clearToastMessage() {\r\n\treturn { type: CLEAR_TOAST_MESSAGE };\r\n}\r\n\r\n/* fetch posts and members from a specific group */\r\nexport function fetchGroupPosts(userId, groupId, index) {\r\n\treturn async function(dispatch) {\r\n\t\tlet query = `query groupPosts($userId: ID!, $groupId: ID!, $index: Int) {\r\n  \t\t\tgroupPosts(userId: $userId, groupId: $groupId, index: $index) {\r\n        \t\t_id timestamp text numLikes userLiked numComments index\r\n        \t\tauthor {\r\n        \t\t\t_id name avatarHash\r\n        \t\t}\r\n  \t\t\t}\r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(query, { userId, groupId, index });\r\n\t\tif (data && data.groupPosts) {\r\n\t\t\tdispatch(fetchPostsSuccess(data.groupPosts));\r\n\t\t} else {\r\n\t\t\tdispatch(fetchPostsError());\r\n\t\t}\r\n\r\n\t\tquery = `query groupMembers($groupId: ID!) {\r\n\t\t\tgroupMembers(groupId: $groupId) {\r\n\t    \t\t_id name avatarHash\r\n\t\t\t}\r\n\t\t}`;\r\n\t\tdata = await graphQlFetch(query, { groupId });\r\n\t\tif (data && data.groupMembers) {\r\n\t\t\tdispatch(fetchGroupMembersSuccess(data.groupMembers));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* fetch a user's groups, avatar hash, and id */\r\nexport function fetchUserInfo(email) {\r\n\treturn async function(dispatch) {\r\n\t\tdispatch(fetchUserInfoRequest());\r\n\t\tconst query = `query userInfo($email: String!) {\r\n  \t\t\tuserInfo(email: $email) {\r\n        \t\tgroups {\r\n        \t\t\t_id name\r\n        \t\t}\r\n        \t\tavatarHash\r\n        \t\t_id\r\n  \t\t\t}\r\n\t\t}`;\r\n\t\tconst data = await graphQlFetch(query, { email });\r\n\t\tif (data) {\r\n\t\t\tdispatch(fetchUserInfoSuccess(data.userInfo.groups, data.userInfo._id, data.userInfo.avatarHash));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createPost(text, authorId, groupId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation createPost($groupId: ID!, $post: PostInput!) {\r\n\t  \t\tcreatePost(groupId: $groupId, post: $post)  \r\n\t\t}`;\r\n\t\tconst post = { authorId, text };\r\n\t\tlet data = await graphQlFetch(mutation, { groupId, post });\r\n\t\tif (data && data.createPost) {\r\n\t\t\tdispatch(setToastMessage('Post submitted successfully', Date.now()));\r\n\t\t} else {\r\n\t\t\tdispatch(setToastMessage('Error submitting post', Date.now()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createComment(text, authorId, groupId, postId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation createComment($groupId: ID!, $postId: ID!, $comment: PostInput!) {\r\n\t  \t\tcreateComment(groupId: $groupId, postId: $postId, comment: $comment)  \r\n\t\t}`;\r\n\t\tconst comment = { authorId, text };\r\n\t\tlet data = await graphQlFetch(mutation, { groupId, postId, comment });\r\n\t\tif (data && data.createComment) {\r\n\t\t\tdispatch(setToastMessage('Comment submitted successfully', Date.now()));\r\n\t\t} else {\r\n\t\t\tdispatch(setToastMessage('Error submitting comment', Date.now()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSubcomment(text, authorId, groupId, postId, commentId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation createSubcomment($groupId: ID!, $postId: ID!, $commentId: ID!, $subcomment: PostInput!) {\r\n\t  \t\tcreateSubcomment(groupId: $groupId, postId: $postId, commentId: $commentId, subcomment: $subcomment)  \r\n\t\t}`;\r\n\t\tconst subcomment = { authorId, text };\r\n\t\tlet data = await graphQlFetch(mutation, { groupId, postId, commentId, subcomment });\r\n\t\tif (data && data.createSubcomment) {\r\n\t\t\tdispatch(setToastMessage('Reply submitted successfully', Date.now()));\r\n\t\t} else {\r\n\t\t\tdispatch(setToastMessage('Error submitting reply', Date.now()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function deletePost(groupId, postId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation deletePost($groupId: ID!, $postId: ID!) {\r\n\t\t  deletePost(groupId: $groupId, postId: $postId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { groupId, postId });\r\n\t\tif (data && data.deletePost) {\r\n\t\t\tdispatch(setToastMessage('Post deleted successfully', Date.now()));\r\n\t\t} else {\r\n\t\t\tdispatch(setToastMessage('Error deleting post', Date.now()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function deleteComment(groupId, postId, commentId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation deleteComment($groupId: ID!, $postId: ID!, $commentId: ID!) {\r\n\t\t  deleteComment(groupId: $groupId, postId: $postId, commentId: $commentId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { groupId, postId, commentId });\r\n\t\tif (data && data.deleteComment) {\r\n\t\t\tdispatch(setToastMessage('Comment deleted successfully', Date.now()));\r\n\t\t} else {\r\n\t\t\tdispatch(setToastMessage('Error deleting comment', Date.now()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function deleteSubcomment(groupId, postId, commentId, subcommentId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation deleteSubcomment($groupId: ID!, $postId: ID!, $commentId: ID!, $subcommentId:ID!) {\r\n\t\t  deleteSubcomment(groupId: $groupId, postId: $postId, commentId: $commentId, subcommentId: $subcommentId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { groupId, postId, commentId, subcommentId });\r\n\t\tif (data && data.deleteSubcomment) {\r\n\t\t\tdispatch(setToastMessage('Comment deleted successfully', Date.now()));\r\n\t\t} else {\r\n\t\t\tdispatch(setToastMessage('Error deleting comment', Date.now()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function likePost(userId, groupId, postId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation likePost($userId: ID!, $groupId: ID!, $postId: ID!) {\r\n\t  \t\tlikePost(userId: $userId, groupId: $groupId, postId: $postId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { userId, groupId, postId });\r\n\t}\r\n}\r\n\r\nexport function unlikePost(userId, groupId, postId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation unlikePost($userId: ID!, $groupId: ID!, $postId: ID!) {\r\n\t  \t\tunlikePost(userId: $userId, groupId: $groupId, postId: $postId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { userId, groupId, postId });\r\n\t}\r\n}\r\n\r\nexport function likeComment(userId, groupId, postId, commentId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation likeComment($userId: ID!, $groupId: ID!, $postId: ID!, $commentId: ID!) {\r\n\t  \t\tlikeComment(userId: $userId, groupId: $groupId, postId: $postId, commentId: $commentId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { userId, groupId, postId, commentId });\r\n\t}\r\n}\r\n\r\nexport function unlikeComment(userId, groupId, postId, commentId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation unlikeComment($userId: ID!, $groupId: ID!, $postId: ID!, $commentId: ID!) {\r\n\t  \t\tunlikeComment(userId: $userId, groupId: $groupId, postId: $postId, commentId: $commentId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { userId, groupId, postId, commentId });\r\n\t}\r\n}\r\n\r\nexport function likeSubcomment(userId, groupId, postId, commentId, subcommentId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation likeSubcomment($userId: ID!, $groupId: ID!, $postId: ID!, $commentId: ID!, $subcommentId: ID!) {\r\n\t  \t\tlikeSubcomment(userId: $userId, groupId: $groupId, postId: $postId, commentId: $commentId, subcommentId: $subcommentId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { userId, groupId, postId, commentId, subcommentId });\r\n\t}\r\n}\r\n\r\nexport function unlikeSubcomment(userId, groupId, postId, commentId, subcommentId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `mutation unlikeSubcomment($userId: ID!, $groupId: ID!, $postId: ID!, $commentId: ID!, $subcommentId: ID!) {\r\n\t  \t\tunlikeSubcomment(userId: $userId, groupId: $groupId, postId: $postId, commentId: $commentId, subcommentId: $subcommentId) \r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { userId, groupId, postId, commentId, subcommentId });\r\n\t}\r\n}\r\n\r\nexport function fetchPostStats(userId, groupId, postId) {\r\n\treturn async function(dispatch) {\r\n\t\tconst mutation = `query singlePostStats($userId: ID!, $groupId: ID!, $postId: ID!) {\r\n\t  \t\tsinglePostStats(userId: $userId, groupId: $groupId, postId: $postId) {\r\n\t  \t\t\t_id numLikes userLiked numComments\r\n\t  \t\t}\r\n\t\t}`;\r\n\t\tlet data = await graphQlFetch(mutation, { userId, groupId, postId });\r\n\t\tif (data && data.singlePostStats) {\r\n\t\t\tdispatch(fetchPostStatsSuccess(data.singlePostStats));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n","import { connect } from 'react-redux';\r\n\r\nimport ChatTab from '../ChatTab.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tmembers: state.posts.members,\r\n\t}\r\n}\r\n\r\nconst ChatTabContainer = connect(mapStateToProps, null)(ChatTab);\r\n\r\nexport default ChatTabContainer;","import { connect } from 'react-redux';\r\n\r\nimport ChatWindow from '../ChatWindow.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tname: state.user.name,\r\n\t\tuserId: state.user._id,\r\n\t\tavatarHash: state.user.avatarHash\r\n\t}\r\n}\r\n\r\nconst ChatWindowContainer = connect(mapStateToProps, null)(ChatWindow);\r\n\r\nexport default ChatWindowContainer;","import { connect } from 'react-redux';\r\n\r\nimport { deleteComment } from '../actions.js';\r\nimport OptionsIcon from '../OptionsIcon.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuserId: state.user._id,\r\n\t\tgroupId: state.user.activeGroupId,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tdelete: (groupId, postId, commentId) => dispatch(deleteComment(groupId, postId, commentId)),\r\n\t}\r\n}\r\n\r\nconst CommentOptionsIconContainer = connect(mapStateToProps, mapDispatchToProps)(OptionsIcon);\r\n\r\nexport default CommentOptionsIconContainer;","import { connect } from 'react-redux';\r\nimport { \r\n\tcreateComment, createSubcomment, likePost, unlikePost, \r\n\tlikeComment, unlikeComment, likeSubcomment, unlikeSubcomment \r\n} from '../actions.js';\r\n\r\nimport ExpandedPost from '../ExpandedPost.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tname: state.user.name,\r\n\t\tavatarHash: state.user.avatarHash,\r\n\t\tuserId: state.user._id,\r\n\t\tgroupId: state.user.activeGroupId, \r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tcreateComment: (text, authorId, groupId, postId) => dispatch(createComment(text, authorId, groupId, postId)),\r\n\t\tcreateSubcomment: (text, authorId, groupId, postId, commentId) => \r\n\t\t\tdispatch(createSubcomment(text, authorId, groupId, postId, commentId)),\r\n\t\tlikePost: (userId, groupId, postId) => dispatch(likePost(userId, groupId, postId)),\r\n\t\tunlikePost: (userId, groupId, postId) => dispatch(unlikePost(userId, groupId, postId)),\r\n\t\tlikeComment: (userId, groupId, postId, commentId) => dispatch(likeComment(userId, groupId, postId, commentId)),\r\n\t\tunlikeComment: (userId, groupId, postId, commentId) => dispatch(unlikeComment(userId, groupId, postId, commentId)),\r\n\t\tlikeSubcomment: (userId, groupId, postId, commentId, subcommentId) => \r\n\t\t\tdispatch(likeSubcomment(userId, groupId, postId, commentId, subcommentId)),\r\n\t\tunlikeSubcomment: (userId, groupId, postId, commentId, subcommentId) => \r\n\t\t\tdispatch(unlikeSubcomment(userId, groupId, postId, commentId, subcommentId)),\r\n\t}\r\n}\r\n\r\nconst ExpandedPostContainer = connect(mapStateToProps, mapDispatchToProps)(ExpandedPost);\r\n\r\nexport default ExpandedPostContainer;","import { connect } from 'react-redux';\r\n\r\nimport Info from '../Info.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tmembers: state.posts.members,\r\n\t}\r\n}\r\n\r\nconst InfoContainer = connect(mapStateToProps, null)(Info);\r\n\r\nexport default InfoContainer;","import { connect } from 'react-redux';\r\n\r\nimport NavBar from '../NavBar.jsx';\r\nimport { fetchGroupPosts, updateActiveGroupId } from '../actions.js';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tname: state.user.name,\r\n\t\tuserId: state.user._id,\r\n\t\tgroups: state.user.groups,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tfetchGroupPosts: (userId, groupId) => dispatch(fetchGroupPosts(userId, groupId)),\r\n\t\tupdateActiveGroupId: (groupId) => dispatch(updateActiveGroupId(groupId)),\r\n\t}\r\n}\r\n\r\nconst NavBarContainer = connect(mapStateToProps, mapDispatchToProps)(NavBar);\r\n\r\nexport default NavBarContainer;","import { connect } from 'react-redux';\r\nimport { \r\n\tfetchGroupPosts, updateActiveGroupId, likePost, unlikePost, \r\n\tfetchPostStats, updateSinglePost, deleteSinglePost \r\n} from '../actions.js';\r\n\r\nimport NewsFeed from '../NewsFeed.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tposts: state.posts.posts,\r\n\t\tpostIndex: state.posts.postIndex,\r\n\t\tisFetching: state.posts.isFetching,\r\n\t\terror: state.posts.error,\r\n\t\tavatarHash: state.user.avatarHash,\r\n\t\tname: state.user.name,\r\n\t\tuserId: state.user._id,\r\n\t\tgroupId: state.user.activeGroupId,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tfetchGroupPosts: (userId, groupId, index) => dispatch(fetchGroupPosts(userId, groupId, index)),\r\n\t\tupdateActiveGroupId: (_id) => dispatch(updateActiveGroupId(_id)),\r\n\t\tlikePost: (userId, groupId, postId) => dispatch(likePost(userId, groupId, postId)),\r\n\t\tunlikePost: (userId, groupId, postId) => dispatch(unlikePost(userId, groupId, postId)),\r\n\t\tfetchPostStats: (userId, groupId, postId) => dispatch(fetchPostStats(userId, groupId, postId)),\r\n\t\tupdateSinglePost: (post) => dispatch(updateSinglePost(post)),\r\n\t\tdeleteSinglePost: (postId) => dispatch(deleteSinglePost(postId))\r\n\t}\r\n}\r\n\r\nconst NewsFeedContainer = connect(mapStateToProps, mapDispatchToProps)(NewsFeed);\r\n\r\nexport default NewsFeedContainer;","import { connect } from 'react-redux';\r\nimport { updateUserInfo, fetchUserInfo, clearToastMessage, updateActiveGroupId } from '../actions.js';\r\n\r\nimport Page from '../Page.jsx';\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tupdateUserInfo: (name, email) => dispatch(updateUserInfo(name, email )),\r\n\t\tfetchUserInfo: (email) => dispatch(fetchUserInfo(email)),\r\n\t\tclearToastMessage: () => dispatch(clearToastMessage()),\r\n\t\tupdateActiveGroupId: (groupId) => dispatch(updateActiveGroupId(groupId)),\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\ttoastMsg: state.posts.toastMsg,\r\n\t\tisFetching: state.user.isFetching,\r\n\t\tgroups: state.user.groups,\r\n\t\tactiveGroupId: state.user.activeGroupId,\r\n\t}\r\n}\r\n\r\nconst PageContainer = connect(mapStateToProps, mapDispatchToProps)(Page);\r\n\r\nexport default PageContainer;","import { connect } from 'react-redux';\r\nimport { createPost } from '../actions.js';\r\n\r\nimport PostForm from '../PostForm.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tname: state.user.name,\r\n\t\tavatarHash: state.user.avatarHash,\r\n\t\tauthorId: state.user._id,\r\n\t\tgroupId: state.user.activeGroupId, \r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tcreatePost: (text, authorId, groupId) => dispatch(createPost(text, authorId, groupId)),\r\n\t}\r\n}\r\n\r\nconst PostFormContainer = connect(mapStateToProps, mapDispatchToProps)(PostForm);\r\n\r\nexport default PostFormContainer;","import { connect } from 'react-redux';\r\n\r\nimport { deletePost } from '../actions.js';\r\nimport OptionsIcon from '../OptionsIcon.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuserId: state.user._id,\r\n\t\tgroupId: state.user.activeGroupId,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tdelete: (groupId, postId) => dispatch(deletePost(groupId, postId)),\r\n\t}\r\n}\r\n\r\nconst PostOptionsIconContainer = connect(mapStateToProps, mapDispatchToProps)(OptionsIcon);\r\n\r\nexport default PostOptionsIconContainer;","import { connect } from 'react-redux';\r\n\r\nimport { deleteSubcomment } from '../actions.js';\r\nimport OptionsIcon from '../OptionsIcon.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuserId: state.user._id,\r\n\t\tgroupId: state.user.activeGroupId,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tdelete: (groupId, postId, commentId, subcommentId) => dispatch(deleteSubcomment(groupId, postId, commentId, subcommentId)),\r\n\t}\r\n}\r\n\r\nconst SubcommentOptionsIconContainer = connect(mapStateToProps, mapDispatchToProps)(OptionsIcon);\r\n\r\nexport default SubcommentOptionsIconContainer;","import { connect } from 'react-redux';\r\n\r\nimport { clearToastMessage } from '../actions.js';\r\nimport Toast from '../Toast.jsx';\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\ttoastMsg: state.posts.toastMsg,\r\n\t\ttoastTime: state.posts.toastTime,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tclearToastMessage: () => dispatch(clearToastMessage),\r\n\t}\r\n}\r\n\r\nconst ToastContainer = connect(mapStateToProps, mapDispatchToProps)(Toast);\r\n\r\nexport default ToastContainer;","const dateRegex = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\r\n\r\nfunction jsonDateReviver(key, value) {\r\n\tif (dateRegex.test(value)) return new Date(value);\r\n\treturn value;\r\n}\r\n\r\nexport default async function graphQlFetch(query, variables = {}) {\r\n\tconst apiEndpoint = window.ENV.UI_API_GRAPHQL_ENDPOINT;\r\n\ttry {\r\n\t\tconst response = await fetch(apiEndpoint, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify({ query, variables })\r\n\t\t});\r\n\t\tconst body = await response.text();\r\n\t\tconst result = JSON.parse(body, jsonDateReviver);\r\n\t\tif (result.errors) { //error returned by graphql\r\n\t\t\tconst error = result.errors[0];\r\n\t\t\tconsole.log(`${error.extensions.code}: ${error.message}`)\r\n\t\t}\r\n\t\treturn result.data;\r\n\t} catch (e) {\r\n\t\tconsole.log(`Error in sending data to server: ${e}`); //error with fetching\r\n    \treturn null;\r\n\t}\r\n}","import { combineReducers } from 'redux';\r\nimport { \r\n\tFETCH_POSTS_REQUEST,\r\n\tFETCH_POSTS_SUCCESS,\r\n\tFETCH_POSTS_ERROR,\r\n\tFETCH_GROUP_MEMBERS_SUCCESS,\r\n\tUPDATE_SINGLE_POST,\r\n\tDELETE_SINGLE_POST,\r\n\tFETCH_POST_STATS_SUCCESS,\r\n\tUPDATE_USER_INFO,\r\n\tFETCH_USER_INFO_REQUEST,\r\n\tFETCH_USER_INFO_SUCCESS,\r\n\tUPDATE_ACTIVE_GROUP_ID,\r\n\tSET_TOAST_MESSAGE,\r\n\tCLEAR_TOAST_MESSAGE,\r\n} from './actions.js';\r\n\r\n/*\r\npost: {\r\n\t_id: null,\r\n\tauthor: {\r\n\t\t_id: null,\r\n\t\tname: null,\r\n\t\tavatarHash: null,\r\n\t},\r\n\tindex: null,\r\n\ttimestamp: null,\r\n\ttext: null,\r\n\tnumLikes: null,\r\n\tuserLiked: null,\r\n\tnumComments: null,\r\n}\r\n*/\r\n\r\nconst initialPostsState = {\r\n\tisFetching: true,\r\n\terror: false,\r\n\tposts: [],\r\n\tpostIndex: null,\r\n\ttoastMsg: null,\r\n\ttoastTime: null,\r\n\tmembers: [],\r\n};\r\n\r\nconst initialUserState = {\r\n\tisFetching: true, //fetching groups\r\n\tname: null,\r\n\temail: null,\r\n\t_id: null,\r\n\tavatarHash: null,\r\n\tactiveGroupId: null, //id of active group\r\n\tgroups: [\r\n\t\t{\r\n\t\t\t_id: null,\r\n\t\t\tname: null,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nfunction userReducer(state = initialUserState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_USER_INFO:\r\n\t\t\treturn Object.assign({}, state, { name: action.name, email: action.email });\r\n\t\tcase FETCH_USER_INFO_REQUEST:\r\n\t\t\treturn Object.assign({}, state, { isFetching: true });\r\n\t\tcase FETCH_USER_INFO_SUCCESS:\r\n\t\t\treturn Object.assign({}, state, { \r\n\t\t\t\tisFetching: false, groups: action.groups, _id: action._id, avatarHash: action.avatarHash, \r\n\t\t\t});\r\n\t\tcase UPDATE_ACTIVE_GROUP_ID:\r\n\t\t\treturn Object.assign({}, state, { activeGroupId: action.groupId });\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nfunction postsReducer(state = initialPostsState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCH_POSTS_REQUEST:\r\n\t\t\treturn Object.assign({}, state, { isFetching: true });\r\n\t\tcase FETCH_POSTS_SUCCESS: {\r\n\t\t\tconst posts = state.posts.concat(action.posts);\r\n\t\t\tconst postIndex = action.posts.length === parseInt(window.ENV.POST_LIMIT) ? posts[posts.length-1].index : -1;\r\n\t\t\treturn Object.assign({}, state, { postIndex, posts, isFetching: false });\r\n\t\t}\r\n\t\tcase FETCH_POSTS_ERROR:\r\n\t\t\treturn Object.assign({}, state, { error: true });\r\n\t\tcase FETCH_GROUP_MEMBERS_SUCCESS:\r\n\t\t\treturn Object.assign({}, state, { members: action.members });\r\n\t\tcase UPDATE_SINGLE_POST:\r\n\t\t\tconst posts = [action.post, ...state.posts];\r\n\t\t\treturn Object.assign({}, state, { posts });\r\n\t\tcase DELETE_SINGLE_POST: {\r\n\t\t\tconst posts = state.posts.filter((post) => post._id !== action.postId);\r\n\t\t\treturn Object.assign({}, state, { posts });\r\n\t\t}\r\n\t\tcase FETCH_POST_STATS_SUCCESS:\r\n\t\t\tconst updatedPosts = state.posts.map((post) => {\r\n\t\t\t\tif (post._id === action.post._id) {\r\n\t\t\t\t\treturn Object.assign({}, post, action.post);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn post;\r\n\t\t\t\t}\r\n\t\t\t}); //is this even performant\r\n\t\t\treturn Object.assign({}, state, { posts: updatedPosts });\r\n\t\tcase SET_TOAST_MESSAGE:\r\n\t\t\treturn Object.assign({}, state, { toastMsg: action.msg, toastTime: action.time });\r\n\t\tcase CLEAR_TOAST_MESSAGE:\r\n\t\t\treturn Object.assign({}, state, { toastMsg: null });\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst reducer = combineReducers({ \r\n\tuser: userReducer, //userReducer is passed user.events\r\n\tposts: postsReducer,\r\n});\r\n\r\nexport default reducer;\r\n\r\n\r\n","/* (ignored) */"],"sourceRoot":""}